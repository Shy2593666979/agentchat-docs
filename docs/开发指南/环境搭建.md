# ç¯å¢ƒæ­å»º

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨çš„æ–‡ä»¶**
- [scripts/README.md](https://github.com/Shy2593666979/AgentChat/scripts/README.md)
- [pyproject.toml](https://github.com/Shy2593666979/AgentChat/pyproject.toml)
- [src/frontend/package.json](https://github.com/Shy2593666979/AgentChat/src/frontend/package.json)
- [scripts/start.py](https://github.com/Shy2593666979/AgentChat/scripts/start.py)
- [src/backend/agentchat/settings.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py)
- [src/backend/agentchat/config.yaml](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/config.yaml)
- [src/backend/agentchat/main.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py)
- [src/backend/agentchat/database/init_data.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/init_data.py)
- [src/frontend/README.md](https://github.com/Shy2593666979/AgentChat/src/frontend/README.md)
- [src/backend/agentchat/services/memory/vector_stores/chroma.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/chroma.py)
- [src/backend/agentchat/services/memory/vector_stores/milvus.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/milvus.py)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
3. [é¡¹ç›®ç»“æ„æ¦‚è§ˆ](#é¡¹ç›®ç»“æ„æ¦‚è§ˆ)
4. [Pythonç¯å¢ƒé…ç½®](#pythonç¯å¢ƒé…ç½®)
5. [Node.jså’Œå‰ç«¯ä¾èµ–](#nodejså’Œå‰ç«¯ä¾èµ–)
6. [æ•°æ®åº“å’ŒæœåŠ¡é…ç½®](#æ•°æ®åº“å’ŒæœåŠ¡é…ç½®)
7. [å¯åŠ¨å¼€å‘ç¯å¢ƒ](#å¯åŠ¨å¼€å‘ç¯å¢ƒ)
8. [å¸¸è§é—®é¢˜è§£å†³](#å¸¸è§é—®é¢˜è§£å†³)
9. [æ‰‹åŠ¨å¯åŠ¨æ–¹å¼](#æ‰‹åŠ¨å¯åŠ¨æ–¹å¼)
10. [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)

## ç®€ä»‹

AgentChatæ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹(LLM)çš„æ™ºèƒ½ä»£ç†é€šä¿¡å¹³å°ï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚æœ¬æŒ‡å—å°†è¯¦ç»†è¯´æ˜å¦‚ä½•æ­å»ºå®Œæ•´çš„æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬Pythonåç«¯ã€Vue.jså‰ç«¯ã€æ•°æ®åº“è¿æ¥ä»¥åŠå‘é‡æ•°æ®åº“é…ç½®ã€‚

## å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+ / macOS 10.15+ / Linux Ubuntu 18.04+
- **å†…å­˜**: è‡³å°‘ 8GB RAM (æ¨è 16GB+)
- **å­˜å‚¨ç©ºé—´**: è‡³å°‘ 2GB å¯ç”¨ç£ç›˜ç©ºé—´

### å¿…éœ€è½¯ä»¶
1. **Python**: 3.12+ (æ¨èä½¿ç”¨ Python 3.12.x)
2. **Node.js**: 18+ (æ¨èä½¿ç”¨ LTS ç‰ˆæœ¬)
3. **npm**: 8+ (éš Node.js è‡ªå¸¦)
4. **Git**: 2.20+ (ç”¨äºç‰ˆæœ¬æ§åˆ¶)

### å¯é€‰ä½†æ¨è
- **Poetry**: PythonåŒ…ç®¡ç†å·¥å…· (ç”¨äºä¾èµ–ç®¡ç†)
- **Conda**: Pythonè™šæ‹Ÿç¯å¢ƒç®¡ç†å™¨
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²é€‰é¡¹

## é¡¹ç›®ç»“æ„æ¦‚è§ˆ

AgentChaté‡‡ç”¨æ¨¡å—åŒ–çš„é¡¹ç›®ç»“æ„ï¼š

```mermaid
graph TB
subgraph "é¡¹ç›®æ ¹ç›®å½•"
Root[AgentChat/]
subgraph "è„šæœ¬ç›®å½•"
Scripts[scripts/]
StartScript[start.py]
ReadmeScript[README.md]
end
subgraph "æºç ç›®å½•"
Src[src/]
subgraph "åç«¯"
Backend[src/backend/]
AgentChat[agentchat/]
BackendMain[main.py]
BackendSettings[settings.py]
BackendConfig[config.yaml]
end
subgraph "å‰ç«¯"
Frontend[src/frontend/]
FrontendPackage[package.json]
FrontendSrc[src/]
FrontendPages[pages/]
end
end
subgraph "é…ç½®æ–‡ä»¶"
PyProject[pyproject.toml]
end
end
Root --> Scripts
Root --> Src
Root --> PyProject
Scripts --> StartScript
Scripts --> ReadmeScript
Src --> Backend
Src --> Frontend
Backend --> AgentChat
Backend --> BackendMain
Backend --> BackendSettings
Backend --> BackendConfig
Frontend --> FrontendPackage
Frontend --> FrontendSrc
Frontend --> FrontendPages
```

**å›¾è¡¨æ¥æº**
- [scripts/start.py](https://github.com/Shy2593666979/AgentChat/scripts/start.py#L1-L25)
- [src/backend/agentchat/main.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py#L1-L50)
- [src/frontend/package.json](https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L1-L41)

**ç« èŠ‚æ¥æº**
- [scripts/README.md](https://github.com/Shy2593666979/AgentChat/scripts/README.md#L1-L61)
- [pyproject.toml](https://github.com/Shy2593666979/AgentChat/pyproject.toml#L1-L43)

## Pythonç¯å¢ƒé…ç½®

### 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

æ¨èä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€åˆ›å»ºéš”ç¦»çš„Pythonç¯å¢ƒï¼š

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Python venv
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv agentchat_env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
agentchat_env\Scripts\activate
# macOS/Linux:
source agentchat_env/bin/activate
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨Conda
```bash
# åˆ›å»ºCondaç¯å¢ƒ
conda create -n agentchat python=3.12

# æ¿€æ´»ç¯å¢ƒ
conda activate agentchat
```

### 2. å®‰è£…ä¾èµ–

é¡¹ç›®æ”¯æŒä¸¤ç§ä¾èµ–å®‰è£…æ–¹å¼ï¼š

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨Poetry (æ¨è)
```bash
# å®‰è£…Poetry (å¦‚æœå°šæœªå®‰è£…)
curl -sSL https://install.python-poetry.org | python -

# å®‰è£…é¡¹ç›®ä¾èµ–
cd AgentChat
poetry install
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨pip
```bash
# å®‰è£…pip (å¦‚æœå°šæœªå®‰è£…)
python -m ensurepip --upgrade

# å®‰è£…é¡¹ç›®ä¾èµ–
cd AgentChat
pip install -e .
```

#### ä¾èµ–é¡¹è¯¦æƒ…

æ ¹æ®`pyproject.toml`æ–‡ä»¶ï¼Œé¡¹ç›®éœ€è¦ä»¥ä¸‹æ ¸å¿ƒä¾èµ–ï¼š

| ç»„ä»¶ç±»åˆ« | ä¸»è¦ä¾èµ– | ç‰ˆæœ¬è¦æ±‚ |
|---------|---------|---------|
| Webæ¡†æ¶ | FastAPI | ^0.121.0 |
| æ•°æ®åº“ | SQLModel | ^0.0.27 |
| AIæ¨¡å‹ | LangChain | ^1.0.3 |
| å‘é‡æ•°æ®åº“ | ChromaDB | ^1.3.4 |
| å‘é‡æ•°æ®åº“ | Milvus | ^2.6.3 |
| ç¼“å­˜ | Redis | ^7.0.1 |
| æ–‡ä»¶å¤„ç† | PyMuPDF | ^0.1.8 |

**ç« èŠ‚æ¥æº**
- [pyproject.toml](https://github.com/Shy2593666979/AgentChat/pyproject.toml#L8-L38)
- [scripts/README.md](https://github.com/Shy2593666979/AgentChat/scripts/README.md#L7-L12)

## Node.jså’Œå‰ç«¯ä¾èµ–

### 1. å®‰è£…Node.js

ç¡®ä¿å®‰è£…äº†Node.js 18+ç‰ˆæœ¬ï¼š

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version

# æ£€æŸ¥npmç‰ˆæœ¬
npm --version
```

### 2. å®‰è£…å‰ç«¯ä¾èµ–

å¯¼èˆªåˆ°å‰ç«¯ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š

```bash
cd src/frontend
npm install
```

### 3. å‰ç«¯æŠ€æœ¯æ ˆ

å‰ç«¯é¡¹ç›®ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue.js | ^3.4.21 | å‰ç«¯æ¡†æ¶ |
| TypeScript | ^5.4.3 | ç±»å‹å®‰å…¨ |
| Vite | ^5.2.8 | æ„å»ºå·¥å…· |
| Element Plus | ^2.7.0 | UIç»„ä»¶åº“ |
| Pinia | ^2.1.7 | çŠ¶æ€ç®¡ç† |
| Axios | ^1.6.8 | HTTPå®¢æˆ·ç«¯ |

### 4. å‰ç«¯è„šæœ¬å‘½ä»¤

å‰ç«¯é¡¹ç›®æä¾›äº†ä»¥ä¸‹npmè„šæœ¬ï¼š

| å‘½ä»¤ | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| `npm run dev` | å¼€å‘æœåŠ¡å™¨ | å¯åŠ¨çƒ­é‡è½½å¼€å‘æœåŠ¡å™¨ |
| `npm run build` | ç”Ÿäº§æ„å»º | æ„å»ºç”Ÿäº§ç¯å¢ƒä»£ç  |
| `npm run preview` | é¢„è§ˆæ„å»º | é¢„è§ˆç”Ÿäº§æ„å»ºæ•ˆæœ |
| `npm run lint` | ä»£ç æ£€æŸ¥ | TypeScriptç±»å‹æ£€æŸ¥ |

**ç« èŠ‚æ¥æº**
- [src/frontend/package.json](https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L6-L11)
- [src/frontend/README.md](https://github.com/Shy2593666979/AgentChat/src/frontend/README.md#L1-L6)

## æ•°æ®åº“å’ŒæœåŠ¡é…ç½®

### 1. æ•°æ®åº“é…ç½®

AgentChatæ”¯æŒå¤šç§æ•°æ®åº“é…ç½®ï¼Œä¸»è¦ä½¿ç”¨MySQLå’ŒRedisã€‚

#### MySQLé…ç½®
```yaml
mysql:
  endpoint: "mysql+pymysql://root:mingguang@localhost:3306/agentchat"
  async_endpoint: "mysql+aiomysql://root:mingguang@localhost:3306/agentchat"
```

#### Redisé…ç½®
```yaml
redis:
  endpoint: "redis://localhost:6379"
```

### 2. å‘é‡æ•°æ®åº“é…ç½®

é¡¹ç›®æ”¯æŒä¸¤ç§å‘é‡æ•°æ®åº“ï¼š

#### ChromaDBé…ç½®
```yaml
rag:
  vector_db:
    host: "47.95.23.87"
    port: "19530"
    mode: "chroma"
```

#### Milvusé…ç½®
```yaml
# éœ€è¦åœ¨ä»£ç ä¸­å®ç°
rag:
  vector_db:
    mode: "milvus"
```

### 3. å¤–éƒ¨æœåŠ¡é…ç½®

#### LLMæœåŠ¡é…ç½®
```yaml
multi_models:
  conversation_model:
    api_key: "sk-6d47d94f4c7343579030b6a75b65f31f"
    base_url: "https://api.deepseek.com/v1"
    model_name: "deepseek-chat"
```

#### å·¥å…·æœåŠ¡é…ç½®
```yaml
tools:
  weather:
    api_key: "fac0ad465078da96a3ec6ba1ccc6746f"
  tavily:
    api_key: "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"
```

### 4. é…ç½®æ–‡ä»¶ç»“æ„

é…ç½®æ–‡ä»¶ä½äº`src/backend/agentchat/config.yaml`ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦éƒ¨åˆ†ï¼š

```mermaid
graph TD
Config[config.yaml] --> Server[æœåŠ¡é…ç½®]
Config --> MySQL[æ•°æ®åº“é…ç½®]
Config --> Redis[ç¼“å­˜é…ç½®]
Config --> Models[å¤šæ¨¡å‹é…ç½®]
Config --> Tools[å·¥å…·é…ç½®]
Config --> RAG[RAGé…ç½®]
Config --> OSS[é˜¿é‡Œäº‘OSSé…ç½®]
Config --> Default[é»˜è®¤é…ç½®]
Config --> WeChat[å¾®ä¿¡é…ç½®]
Config --> LangFuse[è¿½è¸ªå·¥å…·é…ç½®]
Models --> Conversation[å¯¹è¯æ¨¡å‹]
Models --> ToolCall[å·¥å…·è°ƒç”¨æ¨¡å‹]
Models --> Reasoning[æ¨ç†æ¨¡å‹]
Models --> Text2Image[æ–‡ç”Ÿå›¾æ¨¡å‹]
Models --> QwenVL[å¤šæ¨¡æ€æ¨¡å‹]
Models --> Embedding[åµŒå…¥æ¨¡å‹]
Models --> Rerank[é‡æ’åºæ¨¡å‹]
```

**å›¾è¡¨æ¥æº**
- [src/backend/agentchat/config.yaml](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/config.yaml#L1-L129)

**ç« èŠ‚æ¥æº**
- [src/backend/agentchat/config.yaml](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/config.yaml#L1-L129)
- [src/backend/agentchat/settings.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py#L1-L62)

## å¯åŠ¨å¼€å‘ç¯å¢ƒ

### 1. ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬å¯åŠ¨

é¡¹ç›®æä¾›äº†ä¸€é”®å¯åŠ¨è„šæœ¬ï¼Œç®€åŒ–å¼€å‘ç¯å¢ƒå¯åŠ¨è¿‡ç¨‹ã€‚

#### å¯åŠ¨æ­¥éª¤

1. **æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ**
```bash
# Windows
agentchat_env\Scripts\activate
# macOS/Linux
source agentchat_env/bin/activate
```

2. **è¿è¡Œå¯åŠ¨è„šæœ¬**
```bash
cd AgentChat
python scripts/start.py
```

#### è„šæœ¬æ‰§è¡Œæµç¨‹

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·
participant Script as start.py
participant Backend as åç«¯æœåŠ¡
participant Frontend as å‰ç«¯æœåŠ¡
User->>Script : æ‰§è¡Œ python scripts/start.py
Script->>Script : 1. å®šä½é¡¹ç›®æ ¹ç›®å½•
Script->>Script : 2. æŸ¥æ‰¾ä¾èµ–æ–‡ä»¶ (request*.txt æˆ– requirements.txt)
Script->>Script : 3. å®‰è£…Pythonä¾èµ–
Script->>Backend : 4. å¯åŠ¨FastAPIæœåŠ¡ (ç«¯å£7860)
Script->>Frontend : 5. å¯åŠ¨Viteå¼€å‘æœåŠ¡å™¨
Script->>User : æ˜¾ç¤ºæœåŠ¡çŠ¶æ€å’Œæ—¥å¿—
Note over User,Frontend : Ctrl+C åœæ­¢æœåŠ¡
```

**å›¾è¡¨æ¥æº**
- [scripts/start.py](https://github.com/Shy2593666979/AgentChat/scripts/start.py#L25-L125)

#### è„šæœ¬åŠŸèƒ½ç‰¹æ€§

- **è‡ªåŠ¨è·¯å¾„æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«é¡¹ç›®æ ¹ç›®å½•å’Œå­ç›®å½•ç»“æ„
- **ä¾èµ–è‡ªåŠ¨å®‰è£…**: æ™ºèƒ½æŸ¥æ‰¾å¹¶å®‰è£…Pythonä¾èµ–
- **å¹¶å‘å¯åŠ¨**: åŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡
- **å®æ—¶æ—¥å¿—**: æ··åˆæ˜¾ç¤ºå‰åç«¯æ—¥å¿—è¾“å‡º
- **ä¼˜é›…å…³é—­**: æ”¯æŒCtrl+Cä¼˜é›…åœæ­¢æ‰€æœ‰æœåŠ¡

### 2. æœåŠ¡è®¿é—®åœ°å€

- **åç«¯API**: `http://127.0.0.1:7860`
- **å‰ç«¯å¼€å‘æœåŠ¡å™¨**: `http://127.0.0.1:5173` (ç”±Viteè‡ªåŠ¨åˆ†é…)

### 3. å¯åŠ¨éªŒè¯

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š

```
ğŸš€ [Step 1] æ­£åœ¨æŸ¥æ‰¾ä¾èµ–æ–‡ä»¶...
ğŸ“¦ å‘ç°ä¾èµ–æ–‡ä»¶: ./requirements.txt
â³ æ­£åœ¨å®‰è£…ä¾èµ– (pip install)...
âœ… ä¾èµ–å®‰è£…å®Œæˆï¼

ğŸš€ [Step 2] å¯åŠ¨åç«¯ (cwd: src/backend)...
ğŸš€ [Step 3] å¯åŠ¨å‰ç«¯ (cwd: src/frontend)...

âœ¨ æœåŠ¡å·²å¯åŠ¨ï¼æ—¥å¿—å°†æ··åˆæ˜¾ç¤ºåœ¨ä¸‹æ–¹ã€‚
ğŸ›‘ æŒ‰ Ctrl+C å¯åœæ­¢æœåŠ¡ã€‚
```

**ç« èŠ‚æ¥æº**
- [scripts/start.py](https://github.com/Shy2593666979/AgentChat/scripts/start.py#L1-L125)
- [scripts/README.md](https://github.com/Shy2593666979/AgentChat/scripts/README.md#L26-L61)

## å¸¸è§é—®é¢˜è§£å†³

### 1. ä¾èµ–å®‰è£…å¤±è´¥

#### é—®é¢˜ç°è±¡
```
âŒ ä¾èµ–å®‰è£…å¤±è´¥ï¼Œè„šæœ¬ç»ˆæ­¢ã€‚
```

#### è§£å†³æ–¹æ¡ˆ

1. **æ£€æŸ¥ä¾èµ–æ–‡ä»¶**
```bash
# ç¡®è®¤é¡¹ç›®æ ¹ç›®å½•å­˜åœ¨ä¾èµ–æ–‡ä»¶
ls requirements.txt  # Linux/macOS
dir requirements.txt  # Windows
```

2. **æ‰‹åŠ¨å®‰è£…ä¾èµ–**
```bash
# ä½¿ç”¨pipæ‰‹åŠ¨å®‰è£…
pip install -r requirements.txt

# æˆ–ä½¿ç”¨poetry
poetry install
```

3. **ç½‘ç»œé—®é¢˜å¤„ç†**
```bash
# è®¾ç½®å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### 2. ç«¯å£å†²çª

#### é—®é¢˜ç°è±¡
```
ERROR: Port 7860 is already in use
```

#### è§£å†³æ–¹æ¡ˆ

1. **ä¿®æ”¹é…ç½®æ–‡ä»¶**
ç¼–è¾‘`src/backend/agentchat/config.yaml`ï¼š
```yaml
server:
  host: "127.0.0.1"
  port: 7861  # ä¿®æ”¹ä¸ºå…¶ä»–å¯ç”¨ç«¯å£
```

2. **ä¸´æ—¶æ›´æ¢ç«¯å£**
```bash
# åç«¯å•ç‹¬å¯åŠ¨æ—¶æŒ‡å®šç«¯å£
uvicorn agentchat.main:app --port 7861
```

### 3. Node.jsç›¸å…³é—®é¢˜

#### é—®é¢˜ï¼šnpmä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
```bash
# è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥Node.jså®‰è£…
node --version
npm --version

# å¦‚æœæœªå®‰è£…ï¼Œä»å®˜ç½‘ä¸‹è½½ï¼š
# https://nodejs.org/
```

#### é—®é¢˜ï¼šå‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

### 4. æ•°æ®åº“è¿æ¥é—®é¢˜

#### MySQLè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
# Windows:
net start mysql
# Linux:
sudo systemctl start mysql
# macOS:
brew services start mysql
```

#### Redisè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥RedisæœåŠ¡
redis-cli ping
# å¦‚æœå¤±è´¥ï¼Œå¯åŠ¨RedisæœåŠ¡
redis-server
```

### 5. å‘é‡æ•°æ®åº“è¿æ¥é—®é¢˜

#### ChromaDBè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ChromaDBæœåŠ¡
pip install chromadb
python -c "import chromadb; print('ChromaDB installed')"
```

#### Milvusè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MilvusæœåŠ¡
pip install pymilvus
python -c "import pymilvus; print('Milvus installed')"
```

### 6. æƒé™é—®é¢˜

#### Windowsæƒé™é—®é¢˜
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

#### Unix/Linuxæƒé™é—®é¢˜
```bash
# ç¡®ä¿è„šæœ¬å¯æ‰§è¡Œ
chmod +x scripts/start.py
```

## æ‰‹åŠ¨å¯åŠ¨æ–¹å¼

å¦‚æœè‡ªåŠ¨åŒ–è„šæœ¬æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¯ä»¥æ‰‹åŠ¨å¯åŠ¨å„ä¸ªæœåŠ¡ã€‚

### 1. åç«¯æœåŠ¡å¯åŠ¨

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Uvicornç›´æ¥å¯åŠ¨
```bash
cd src/backend
uvicorn agentchat.main:app --reload --port 7860
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨Pythonç›´æ¥è¿è¡Œ
```bash
cd src/backend
python -m agentchat.main
```

#### åç«¯æœåŠ¡ç‰¹æ€§
- **çƒ­é‡è½½**: å¼€å‘æ—¶è‡ªåŠ¨é‡å¯
- **è°ƒè¯•æ¨¡å¼**: æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
- **å¥åº·æ£€æŸ¥**: `/health`ç«¯ç‚¹å¯ç”¨

### 2. å‰ç«¯æœåŠ¡å¯åŠ¨

```bash
cd src/frontend
npm run dev
```

#### å‰ç«¯æœåŠ¡ç‰¹æ€§
- **çƒ­é‡è½½**: æ–‡ä»¶å˜æ›´è‡ªåŠ¨åˆ·æ–°
- **TypeScriptæ”¯æŒ**: ç±»å‹å®‰å…¨å¼€å‘
- **Vue DevTools**: æµè§ˆå™¨æ‰©å±•æ”¯æŒ

### 3. å•ç‹¬å¯åŠ¨å„ç»„ä»¶

#### æ•°æ®åº“åˆå§‹åŒ–
```bash
cd src/backend
python -c "
from agentchat.database.init_data import init_database, init_default_agent
import asyncio
asyncio.run(init_database())
asyncio.run(init_default_agent())
print('æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ')
"
```

#### Redisç¼“å­˜æœåŠ¡
```bash
# å¯åŠ¨Redis (å¦‚æœæœªå¯åŠ¨)
redis-server
```

#### å‘é‡æ•°æ®åº“æœåŠ¡
```bash
# ChromaDB (æœ¬åœ°æ¨¡å¼)
python -c "
import chromadb
client = chromadb.Client()
print('ChromaDBè¿æ¥æˆåŠŸ')
"

# Milvus (éœ€è¦å•ç‹¬å®‰è£…å’Œé…ç½®)
```

**ç« èŠ‚æ¥æº**
- [src/backend/agentchat/main.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py#L104-L108)
- [src/frontend/package.json](https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L6-L11)

## ç¯å¢ƒå˜é‡é…ç½®

### 1. é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§

AgentChatä½¿ç”¨YAMLé…ç½®æ–‡ä»¶ï¼Œæ”¯æŒä»¥ä¸‹é…ç½®æ–¹å¼ï¼š

```mermaid
flowchart TD
Start[åº”ç”¨å¯åŠ¨] --> LoadConfig[åŠ è½½é…ç½®æ–‡ä»¶]
LoadConfig --> CheckEnv{æ£€æŸ¥ç¯å¢ƒå˜é‡}
CheckEnv --> |å­˜åœ¨| Override[è¦†ç›–é…ç½®]
CheckEnv --> |ä¸å­˜åœ¨| UseFile[ä½¿ç”¨æ–‡ä»¶é…ç½®]
Override --> FinalConfig[æœ€ç»ˆé…ç½®]
UseFile --> FinalConfig
FinalConfig --> InitServices[åˆå§‹åŒ–æœåŠ¡]
```

**å›¾è¡¨æ¥æº**
- [src/backend/agentchat/settings.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py#L26-L62)

### 2. å…³é”®é…ç½®é¡¹

#### æ•°æ®åº“è¿æ¥é…ç½®
```yaml
mysql:
  endpoint: "${MYSQL_ENDPOINT:-mysql+pymysql://root:password@localhost:3306/agentchat}"
  async_endpoint: "${ASYNC_MYSQL_ENDPOINT:-mysql+aiomysql://root:password@localhost:3306/agentchat}"

redis:
  endpoint: "${REDIS_ENDPOINT:-redis://localhost:6379}"
```

#### LLM APIé…ç½®
```yaml
multi_models:
  conversation_model:
    api_key: "${OPENAI_API_KEY:-your-api-key-here}"
    base_url: "${OPENAI_BASE_URL:-https://api.openai.com/v1}"
    model_name: "${CONVERSATION_MODEL:-gpt-4}"
```

#### å‘é‡æ•°æ®åº“é…ç½®
```yaml
rag:
  vector_db:
    mode: "${VECTOR_DB_MODE:-chroma}"  # chroma, milvus
    host: "${VECTOR_DB_HOST:-localhost}"
    port: "${VECTOR_DB_PORT:-19530}"
```

### 3. ç¯å¢ƒå˜é‡è®¾ç½®

#### Windows PowerShell
```powershell
$env:MYSQL_ENDPOINT="mysql+pymysql://root:password@localhost:3306/agentchat"
$env:REDIS_ENDPOINT="redis://localhost:6379"
$env:OPENAI_API_KEY="your-api-key-here"
```

#### Windows CMD
```cmd
set MYSQL_ENDPOINT=mysql+pymysql://root:password@localhost:3306/agentchat
set REDIS_ENDPOINT=redis://localhost:6379
set OPENAI_API_KEY=your-api-key-here
```

#### Linux/macOS Bash
```bash
export MYSQL_ENDPOINT="mysql+pymysql://root:password@localhost:3306/agentchat"
export REDIS_ENDPOINT="redis://localhost:6379"
export OPENAI_API_KEY="your-api-key-here"
```

### 4. é…ç½®æ–‡ä»¶æ¨¡æ¿

åˆ›å»º`.env`æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š
```env
# æ•°æ®åº“é…ç½®
MYSQL_ENDPOINT=mysql+pymysql://root:password@localhost:3306/agentchat
ASYNC_MYSQL_ENDPOINT=mysql+aiomysql://root:password@localhost:3306/agentchat

# ç¼“å­˜é…ç½®
REDIS_ENDPOINT=redis://localhost:6379

# LLMé…ç½®
OPENAI_API_KEY=your-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
CONVERSATION_MODEL=gpt-4

# å‘é‡æ•°æ®åº“
VECTOR_DB_MODE=chroma
VECTOR_DB_HOST=localhost
VECTOR_DB_PORT=19530
```

**ç« èŠ‚æ¥æº**
- [src/backend/agentchat/settings.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py#L26-L62)
- [src/backend/agentchat/config.yaml](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/config.yaml#L1-L129)