<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>用户数据模型 | AgentChat</title>
    <meta name="description" content="基于大语言模型的智能对话系统技术文档">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/agentchat-docs/assets/style.DTT6M7rU.css" as="style">
    <link rel="preload stylesheet" href="/agentchat-docs/vp-icons.css" as="style">
    
    <script type="module" src="/agentchat-docs/assets/app.D_XsrFjJ.js"></script>
    <link rel="preload" href="/agentchat-docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/agentchat-docs/assets/chunks/theme.Cw3hXjMi.js">
    <link rel="modulepreload" href="/agentchat-docs/assets/chunks/framework.D0TaUBpX.js">
    <link rel="modulepreload" href="/agentchat-docs/assets/数据库设计_关系型数据模型_用户数据模型.md.BkN8VbFv.lean.js">
    <link rel="icon" href="/agentchat-docs/favicon.ico">
    <meta name="theme-color" content="#3c82f6">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="zh-CN">
    <meta property="og:title" content="AgentChat | 智能对话系统">
    <meta property="og:site_name" content="AgentChat">
    <meta property="og:image" content="/agentchat-docs/logo.png">
    <meta property="og:url" content="https://shy2593666979.github.io/agentchat-docs/">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/agentchat-docs/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/agentchat-docs/logo.png" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>AgentChat</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>快速入门</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>系统概述</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/%E6%8A%80%E6%9C%AF%E6%A0%88.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>技术栈</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>核心功能</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%A4%9AAgent%E7%B3%BB%E7%BB%9F.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>多Agent系统</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/MCP%E9%9B%86%E6%88%90.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>MCP集成</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%B3%BB%E7%BB%9F.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>知识库系统</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%B7%A5%E5%85%B7%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>工具生态系统</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>API文档</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/API%E5%8F%82%E8%80%83.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>API总览</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/Agent%20API.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Agent API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E5%AF%B9%E8%AF%9DAPI.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>对话 API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E7%9F%A5%E8%AF%86%E5%BA%93API.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>知识库 API</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>开发指南</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>环境搭建</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>编码规范</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>调试技巧</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shy2593666979/AgentChat" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shy2593666979/AgentChat" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>入门与概览</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>系统概述</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>快速入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%8A%80%E6%9C%AF%E6%A0%88.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>技术栈</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>核心功能模块</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>核心功能模块</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%A4%9AAgent%E7%B3%BB%E7%BB%9F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>多Agent系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/MCP%E9%9B%86%E6%88%90.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>MCP集成</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%B7%A5%E5%85%B7%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>工具生态系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%B3%BB%E7%BB%9F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>知识库系统</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>API 参考</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/API%E5%8F%82%E8%80%83.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>API总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/Agent%20API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Agent API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E5%AF%B9%E8%AF%9DAPI.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>对话 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E5%B7%A5%E5%85%B7API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>工具 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E7%94%A8%E6%88%B7API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>用户 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E7%9F%A5%E8%AF%86%E5%BA%93API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>知识库 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/MCP%E6%9C%8D%E5%8A%A1API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>MCP服务 API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>数据库设计</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>设计总览</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 has-active" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>关系型数据模型</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>模型总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>用户数据模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%99%BA%E8%83%BD%E4%BD%93%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>智能体数据模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%AF%B9%E8%AF%9D%E4%BC%9A%E8%AF%9D%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>对话会话模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%B6%88%E6%81%AF%E8%AE%B0%E5%BD%95%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>消息记录模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E7%9F%A5%E8%AF%86%E5%BA%93%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>知识库模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/MCP%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>MCP服务配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>向量存储架构</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>架构总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%90%91%E9%87%8F%E5%8C%96/%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%90%91%E9%87%8F%E5%8C%96.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>文档解析与向量化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>向量数据库集成</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>项目目录结构</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>结构总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%89%8D%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%89%8D%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>前端目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%90%8E%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%90%8E%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>后端目录</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>开发指南</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>开发指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>环境搭建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>编码规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>调试技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E6%B5%8B%E8%AF%95%E7%AD%96%E7%95%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>测试策略</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>部署指南</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>部署指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>开发环境部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>生产环境部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86/%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>运维管理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>安全考虑</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>安全概述</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>API安全</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/API%E5%AE%89%E5%85%A8/API%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>API安全概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/API%E5%AE%89%E5%85%A8/%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81%E4%B8%8E%E9%98%B2%E6%B3%A8%E5%85%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>输入验证与防注入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/API%E5%AE%89%E5%85%A8/%E6%B2%99%E7%AE%B1%E6%89%A7%E8%A1%8C%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>沙箱执行安全</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>数据安全</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>数据安全概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>传输安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/%E5%AF%86%E7%A0%81%E5%93%88%E5%B8%8C%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>密码哈希与加密</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>认证与授权</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>认证与授权概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/%E4%BB%A4%E7%89%8C%E7%94%9F%E6%88%90%E4%B8%8E%E9%AA%8C%E8%AF%81/%E4%BB%A4%E7%89%8C%E7%94%9F%E6%88%90%E4%B8%8E%E9%AA%8C%E8%AF%81.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>令牌生成与验证</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>安全策略</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _agentchat-docs_%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1_%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B_%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B" data-v-e6f2a212><div><h1 id="用户数据模型" tabindex="-1">用户数据模型 <a class="header-anchor" href="#用户数据模型" aria-label="Permalink to &quot;用户数据模型&quot;">​</a></h1><cite> **本文档引用的文件** - [user.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py) - [base.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/base.py) - [user.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/user.py) - [user.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/v1/user.py) - [user.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/dao/user.py) - [role.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/role.py) - [user_role.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user_role.py) - [agent.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/agent.py) - [dialog.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/dialog.py) - [session.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/session.py) </cite><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ol><li><a href="#简介">简介</a></li><li><a href="#项目结构">项目结构</a></li><li><a href="#核心组件">核心组件</a></li><li><a href="#架构概览">架构概览</a></li><li><a href="#详细组件分析">详细组件分析</a></li><li><a href="#依赖关系分析">依赖关系分析</a></li><li><a href="#性能考虑">性能考虑</a></li><li><a href="#故障排除指南">故障排除指南</a></li><li><a href="#结论">结论</a></li></ol><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>本文档详细描述了AgentChat项目中的用户数据模型实现，重点分析User模型的结构设计、字段定义、外键关系以及在权限控制系统中的作用。该系统采用SQLModel框架构建，提供了完整的用户管理功能，包括用户认证、权限控制、数据序列化等核心特性。</p><h2 id="项目结构" tabindex="-1">项目结构 <a class="header-anchor" href="#项目结构" aria-label="Permalink to &quot;项目结构&quot;">​</a></h2><p>AgentChat项目采用分层架构设计，用户数据模型分布在多个模块中：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;数据访问层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DAO[DAO层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Models[模型层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;服务层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Services[服务层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Utils[工具层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;API层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">API[API路由]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Controllers[控制器]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;数据库层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB[(数据库)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Tables[表结构]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DAO --&gt; Models</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Services --&gt; DAO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Controllers --&gt; Services</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">API --&gt; Controllers</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Models --&gt; DB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Tables --&gt; DB</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L18-L35" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/dao/user.py#L7-L34" target="_blank" rel="noreferrer">user.py</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L1-L111" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/base.py#L1-L43" target="_blank" rel="noreferrer">base.py</a></li></ul><h2 id="核心组件" tabindex="-1">核心组件 <a class="header-anchor" href="#核心组件" aria-label="Permalink to &quot;核心组件&quot;">​</a></h2><h3 id="usertable模型定义" tabindex="-1">UserTable模型定义 <a class="header-anchor" href="#usertable模型定义" aria-label="Permalink to &quot;UserTable模型定义&quot;">​</a></h3><p>UserTable是系统中的核心用户实体模型，继承自SQLModelSerializable基类，提供了完整的用户数据结构和序列化功能。</p><h4 id="主要字段定义" tabindex="-1">主要字段定义 <a class="header-anchor" href="#主要字段定义" aria-label="Permalink to &quot;主要字段定义&quot;">​</a></h4><table tabindex="0"><thead><tr><th>字段名</th><th>数据类型</th><th>约束条件</th><th>业务含义</th><th>默认值</th></tr></thead><tbody><tr><td>user_id</td><td>str</td><td>主键，非空</td><td>用户唯一标识符</td><td>自动生成UUID</td></tr><tr><td>user_name</td><td>str</td><td>唯一索引，非空</td><td>用户名</td><td>-</td></tr><tr><td>user_email</td><td>str</td><td>可选</td><td>用户邮箱</td><td>None</td></tr><tr><td>user_avatar</td><td>str</td><td>-</td><td>用户头像URL</td><td>-</td></tr><tr><td>user_description</td><td>str</td><td>-</td><td>用户个人描述</td><td>&quot;该用户很懒，没有留下一片云彩&quot;</td></tr><tr><td>user_password</td><td>str</td><td>-</td><td>加密后的用户密码</td><td>-</td></tr><tr><td>delete</td><td>bool</td><td>默认值False</td><td>用户是否已删除</td><td>False</td></tr><tr><td>create_time</td><td>datetime</td><td>索引，服务器默认值</td><td>用户创建时间</td><td>CURRENT_TIMESTAMP</td></tr><tr><td>update_time</td><td>datetime</td><td>索引，服务器默认值</td><td>最后更新时间</td><td>CURRENT_TIMESTAMP</td></tr></tbody></table><h4 id="字段验证机制" tabindex="-1">字段验证机制 <a class="header-anchor" href="#字段验证机制" aria-label="Permalink to &quot;字段验证机制&quot;">​</a></h4><p>系统实现了严格的字段验证机制，确保数据完整性：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Input[用户输入] --&gt; Validation[字段验证]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Validation --&gt; UserName{用户名非空检查}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserName --&gt; |失败| Error[抛出ValueError]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserName --&gt; |成功| Success[验证通过]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Success --&gt; Encryption[密码加密处理]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Encryption --&gt; Database[存储到数据库]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L36-L41" target="_blank" rel="noreferrer">user.py</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L18-L35" target="_blank" rel="noreferrer">user.py</a></li></ul><h2 id="架构概览" tabindex="-1">架构概览 <a class="header-anchor" href="#架构概览" aria-label="Permalink to &quot;架构概览&quot;">​</a></h2><h3 id="用户模型层次结构" tabindex="-1">用户模型层次结构 <a class="header-anchor" href="#用户模型层次结构" aria-label="Permalink to &quot;用户模型层次结构&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">classDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class SQLModelSerializable {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+hide_fields : ClassVar[list[str]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+to_dict() dict</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+model_dump() dict</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class UserTable {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_email</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_avatar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_description</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_password</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+bool delete</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+validate_str() str</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class UserRole {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str role_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class AgentTable {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str description</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+bool is_custom</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class DialogTable {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str dialog_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str agent_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str agent_type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+str user_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+datetime update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SQLModelSerializable &lt;|-- UserTable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserTable --&gt; UserRole : &quot;拥有多个角色&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserTable --&gt; AgentTable : &quot;创建多个代理&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserTable --&gt; DialogTable : &quot;参与多个对话&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserRole --&gt; AgentTable : &quot;关联代理权限&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DialogTable --&gt; AgentTable : &quot;绑定代理&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/base.py#L28-L42" target="_blank" rel="noreferrer">base.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L18-L35" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user_role.py#L23-L26" target="_blank" rel="noreferrer">user_role.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/agent.py#L11-L25" target="_blank" rel="noreferrer">agent.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/dialog.py#L12-L27" target="_blank" rel="noreferrer">dialog.py</a></li></ul><h3 id="外键关系设计" tabindex="-1">外键关系设计 <a class="header-anchor" href="#外键关系设计" aria-label="Permalink to &quot;外键关系设计&quot;">​</a></h3><p>系统通过外键关系建立了用户与其他实体之间的关联：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">erDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_id PK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_name UK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_email</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_avatar</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_description</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_password</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">boolean delete</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER_ROLE {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string id PK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_id FK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string role_id FK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AGENT {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string id PK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string description</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_id FK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">boolean is_custom</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DIALOG {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string dialog_id PK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string agent_id FK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string agent_type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string user_id FK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ROLE {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">int id PK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string role_name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string remark</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp create_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timestamp update_time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER ||--o{ USER_ROLE : &quot;拥有&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER_ROLE }|--|| ROLE : &quot;关联&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER ||--o{ AGENT : &quot;创建&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USER ||--o{ DIALOG : &quot;参与&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AGENT }|--o{ DIALOG : &quot;产生&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L18-L35" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user_role.py#L10-L26" target="_blank" rel="noreferrer">user_role.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/agent.py#L14-L18" target="_blank" rel="noreferrer">agent.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/dialog.py#L15-L19" target="_blank" rel="noreferrer">dialog.py</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user_role.py#L10-L26" target="_blank" rel="noreferrer">user_role.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/agent.py#L14-L25" target="_blank" rel="noreferrer">agent.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/dialog.py#L15-L27" target="_blank" rel="noreferrer">dialog.py</a></li></ul><h2 id="详细组件分析" tabindex="-1">详细组件分析 <a class="header-anchor" href="#详细组件分析" aria-label="Permalink to &quot;详细组件分析&quot;">​</a></h2><h3 id="sqlmodelserializable基类" tabindex="-1">SQLModelSerializable基类 <a class="header-anchor" href="#sqlmodelserializable基类" aria-label="Permalink to &quot;SQLModelSerializable基类&quot;">​</a></h3><p>SQLModelSerializable是所有数据模型的基类，提供了统一的序列化和数据处理功能：</p><h4 id="序列化机制" tabindex="-1">序列化机制 <a class="header-anchor" href="#序列化机制" aria-label="Permalink to &quot;序列化机制&quot;">​</a></h4><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Client as 客户端</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Model as 数据模型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Serializer as 序列化器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant DB as 数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Client-&gt;&gt;Model : 请求数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Model-&gt;&gt;Serializer : to_dict()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Serializer-&gt;&gt;Serializer : 排除敏感字段</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Serializer-&gt;&gt;Serializer : 转换日期格式</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Serializer-&gt;&gt;DB : 获取原始数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB--&gt;&gt;Serializer : 返回数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Serializer--&gt;&gt;Model : 格式化结果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Model--&gt;&gt;Client : 返回JSON响应</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/base.py#L34-L42" target="_blank" rel="noreferrer">base.py</a></li></ul><h4 id="敏感字段过滤机制" tabindex="-1">敏感字段过滤机制 <a class="header-anchor" href="#敏感字段过滤机制" aria-label="Permalink to &quot;敏感字段过滤机制&quot;">​</a></h4><p>系统通过hide_fields类变量实现敏感字段的自动过滤：</p><table tabindex="0"><thead><tr><th>过滤字段</th><th>类型</th><th>用途</th><th>安全级别</th></tr></thead><tbody><tr><td>api_key</td><td>str</td><td>API密钥</td><td>高</td></tr><tr><td>user_password</td><td>str</td><td>用户密码</td><td>极高</td></tr><tr><td>secret_token</td><td>str</td><td>秘密令牌</td><td>高</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/base.py#L28-L42" target="_blank" rel="noreferrer">base.py</a></li></ul><h3 id="用户认证与密码管理" tabindex="-1">用户认证与密码管理 <a class="header-anchor" href="#用户认证与密码管理" aria-label="Permalink to &quot;用户认证与密码管理&quot;">​</a></h3><h4 id="密码加密流程" tabindex="-1">密码加密流程 <a class="header-anchor" href="#密码加密流程" aria-label="Permalink to &quot;密码加密流程&quot;">​</a></h4><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PlainText[明文密码] --&gt; SHA256[SHA-256哈希]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SHA256 --&gt; Encrypted[加密密码]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Encrypted --&gt; Store[存储到数据库]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Login[登录请求] --&gt; Decrypt[解密处理]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Decrypt --&gt; Verify[密码验证]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Verify --&gt; Compare{密码匹配?}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Compare --&gt; |是| Success[认证成功]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Compare --&gt; |否| Failure[认证失败]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/user.py#L45-L65" target="_blank" rel="noreferrer">user.py</a></li></ul><h4 id="认证服务实现" tabindex="-1">认证服务实现 <a class="header-anchor" href="#认证服务实现" aria-label="Permalink to &quot;认证服务实现&quot;">​</a></h4><p>UserService类提供了完整的用户认证功能：</p><table tabindex="0"><thead><tr><th>方法名</th><th>功能描述</th><th>安全特性</th></tr></thead><tbody><tr><td>encrypt_sha256_password</td><td>SHA-256密码加密</td><td>单向加密</td></tr><tr><td>verify_password</td><td>密码验证</td><td>时间安全比较</td></tr><tr><td>decrypt_md5_password</td><td>MD5密码解密</td><td>RSA+MD5双重保护</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/user.py#L42-L65" target="_blank" rel="noreferrer">user.py</a></li></ul><h3 id="权限控制系统" tabindex="-1">权限控制系统 <a class="header-anchor" href="#权限控制系统" aria-label="Permalink to &quot;权限控制系统&quot;">​</a></h3><h4 id="角色层次结构" tabindex="-1">角色层次结构 <a class="header-anchor" href="#角色层次结构" aria-label="Permalink to &quot;角色层次结构&quot;">​</a></h4><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SystemRole[SystemRole&lt;br/&gt;系统角色] --&gt; AdminRole[AdminRole&lt;br/&gt;超级管理员]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AdminRole --&gt; DefaultRole[DefaultRole&lt;br/&gt;普通用户]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SystemRole -.-&gt;|ID: 0| SystemDesc[系统基础角色]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AdminRole -.-&gt;|ID: 1| AdminDesc[最高权限角色]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DefaultRole -.-&gt;|ID: 2| UserDesc[标准用户角色]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/role.py#L7-L11" target="_blank" rel="noreferrer">role.py</a></li></ul><h4 id="权限验证流程" tabindex="-1">权限验证流程 <a class="header-anchor" href="#权限验证流程" aria-label="Permalink to &quot;权限验证流程&quot;">​</a></h4><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant User as 用户</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Service as 服务层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant DAO as 数据访问层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant DB as 数据库</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User-&gt;&gt;Service : 权限检查请求</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service-&gt;&gt;DAO : 获取用户角色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DAO-&gt;&gt;DB : 查询用户角色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB--&gt;&gt;DAO : 返回角色列表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DAO--&gt;&gt;Service : 角色数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service-&gt;&gt;Service : 权限验证逻辑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service--&gt;&gt;User : 权限结果</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/user.py#L23-L41" target="_blank" rel="noreferrer">user.py</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/role.py#L7-L11" target="_blank" rel="noreferrer">role.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user_role.py#L10-L26" target="_blank" rel="noreferrer">user_role.py</a></li></ul><h3 id="数据访问层-dao" tabindex="-1">数据访问层(DAO) <a class="header-anchor" href="#数据访问层-dao" aria-label="Permalink to &quot;数据访问层(DAO)&quot;">​</a></h3><h4 id="dao模式实现" tabindex="-1">DAO模式实现 <a class="header-anchor" href="#dao模式实现" aria-label="Permalink to &quot;DAO模式实现&quot;">​</a></h4><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">classDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class UserDao {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_user(user_id) UserTable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_user_by_ids(user_ids) List[UserTable]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_user_by_username(user_name) UserTable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+update_user(user_id, user_name, user_email, user_password) void</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+filter_users(user_ids, keyword, page, limit) tuple</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_unique_user_by_name(user_name) UserTable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+create_user(user_id, user_name, user_email, user_password) void</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class UserRoleDao {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_user_roles(user_id) List[UserRole]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_roles_user(role_ids, page, limit) List[UserRole]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+get_admins_user() List[UserRole]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+set_admin_user(user_id) UserRole</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+add_user_roles(user_id, role_ids) List[UserRole]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+delete_user_roles(user_id, role_ids) void</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserDao --&gt; UserTable : &quot;操作&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserRoleDao --&gt; UserRole : &quot;操作&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/dao/user.py#L7-L34" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/dao/user_role.py#L10-L68" target="_blank" rel="noreferrer">user_role.py</a></li></ul><h4 id="查询优化策略" tabindex="-1">查询优化策略 <a class="header-anchor" href="#查询优化策略" aria-label="Permalink to &quot;查询优化策略&quot;">​</a></h4><table tabindex="0"><thead><tr><th>查询类型</th><th>优化策略</th><th>性能特点</th></tr></thead><tbody><tr><td>单用户查询</td><td>user_id主键索引</td><td>O(1)复杂度</td></tr><tr><td>用户名查询</td><td>user_name唯一索引</td><td>O(log n)复杂度</td></tr><tr><td>批量查询</td><td>IN子句优化</td><td>支持多用户同时查询</td></tr><tr><td>分页查询</td><td>OFFSET/LIMIT优化</td><td>内存友好分页</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/dao/user.py#L10-L34" target="_blank" rel="noreferrer">user.py</a></li></ul><h3 id="api接口层" tabindex="-1">API接口层 <a class="header-anchor" href="#api接口层" aria-label="Permalink to &quot;API接口层&quot;">​</a></h3><h4 id="用户管理api" tabindex="-1">用户管理API <a class="header-anchor" href="#用户管理api" aria-label="Permalink to &quot;用户管理API&quot;">​</a></h4><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Client as 客户端</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Router as 路由器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Service as 服务层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant DAO as 数据访问层</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Redis as 缓存</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Client-&gt;&gt;Router : POST /user/login</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Router-&gt;&gt;Service : 验证用户凭据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service-&gt;&gt;DAO : 查询用户信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DAO--&gt;&gt;Service : 用户数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service-&gt;&gt;Service : 密码验证</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service-&gt;&gt;Redis : 设置会话缓存</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service--&gt;&gt;Router : 登录成功</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Router--&gt;&gt;Client : 返回JWT令牌</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/v1/user.py#L51-L77" target="_blank" rel="noreferrer">user.py</a></li></ul><h4 id="实际查询示例" tabindex="-1">实际查询示例 <a class="header-anchor" href="#实际查询示例" aria-label="Permalink to &quot;实际查询示例&quot;">​</a></h4><h5 id="用户认证查询" tabindex="-1">用户认证查询 <a class="header-anchor" href="#用户认证查询" aria-label="Permalink to &quot;用户认证查询&quot;">​</a></h5><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用户名密码登录查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statement </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> select(UserTable).where(UserTable.user_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> username)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 结果：单个UserTable对象或None</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="用户权限校验流程" tabindex="-1">用户权限校验流程 <a class="header-anchor" href="#用户权限校验流程" aria-label="Permalink to &quot;用户权限校验流程&quot;">​</a></h5><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取用户角色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">roles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserRoleDao.get_user_roles(user_id)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 权限验证逻辑</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user_role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> or</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AdminRole </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> role </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> roles):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 具有管理员权限</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    pass</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/v1/user.py#L51-L77" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/user.py#L23-L41" target="_blank" rel="noreferrer">user.py</a></li></ul><h2 id="依赖关系分析" tabindex="-1">依赖关系分析 <a class="header-anchor" href="#依赖关系分析" aria-label="Permalink to &quot;依赖关系分析&quot;">​</a></h2><h3 id="模块依赖图" tabindex="-1">模块依赖图 <a class="header-anchor" href="#模块依赖图" aria-label="Permalink to &quot;模块依赖图&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;外部依赖&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SQLModel[SQLModel]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pydantic[Pydantic]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SQLAlchemy[SQLAlchemy]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;内部模块&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Base[base.py]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserModels[user.py]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserDAO[dao/user.py]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserService[services/user.py]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserAPI[v1/user.py]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SQLModel --&gt; Base</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pydantic --&gt; Base</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SQLAlchemy --&gt; Base</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Base --&gt; UserModels</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserModels --&gt; UserDAO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserDAO --&gt; UserService</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserService --&gt; UserAPI</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/base.py#L1-L10" target="_blank" rel="noreferrer">base.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/user.py#L1-L10" target="_blank" rel="noreferrer">user.py</a></li></ul><h3 id="数据库连接管理" tabindex="-1">数据库连接管理 <a class="header-anchor" href="#数据库连接管理" aria-label="Permalink to &quot;数据库连接管理&quot;">​</a></h3><p>系统采用会话管理模式确保数据库操作的一致性和性能：</p><table tabindex="0"><thead><tr><th>组件</th><th>功能</th><th>特点</th></tr></thead><tbody><tr><td>session_getter</td><td>同步会话管理</td><td>自动事务处理</td></tr><tr><td>async_session_getter</td><td>异步会话管理</td><td>非阻塞操作</td></tr><tr><td>事务回滚</td><td>错误恢复</td><td>数据一致性保障</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/session.py#L12-L36" target="_blank" rel="noreferrer">session.py</a></li></ul><h2 id="性能考虑" tabindex="-1">性能考虑 <a class="header-anchor" href="#性能考虑" aria-label="Permalink to &quot;性能考虑&quot;">​</a></h2><h3 id="索引优化策略" tabindex="-1">索引优化策略 <a class="header-anchor" href="#索引优化策略" aria-label="Permalink to &quot;索引优化策略&quot;">​</a></h3><h4 id="关键字段索引设计" tabindex="-1">关键字段索引设计 <a class="header-anchor" href="#关键字段索引设计" aria-label="Permalink to &quot;关键字段索引设计&quot;">​</a></h4><table tabindex="0"><thead><tr><th>字段</th><th>索引类型</th><th>用途</th><th>性能影响</th></tr></thead><tbody><tr><td>user_id</td><td>主键索引</td><td>唯一标识查询</td><td>O(1)</td></tr><tr><td>user_name</td><td>唯一索引</td><td>用户名查找</td><td>O(log n)</td></tr><tr><td>create_time</td><td>普通索引</td><td>时间排序查询</td><td>O(log n)</td></tr><tr><td>update_time</td><td>普通索引</td><td>更新时间查询</td><td>O(log n)</td></tr><tr><td>user_id (外键)</td><td>外键索引</td><td>关联查询优化</td><td>O(log n)</td></tr></tbody></table><h4 id="查询性能优化建议" tabindex="-1">查询性能优化建议 <a class="header-anchor" href="#查询性能优化建议" aria-label="Permalink to &quot;查询性能优化建议&quot;">​</a></h4><ol><li><p><strong>登录查询优化</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 优化前：全表扫描</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ?;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 优化后：利用唯一索引</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EXPLAIN </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ?;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p><strong>批量查询优化</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 推荐：使用IN子句</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserDao.get_user_by_ids(user_ids)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 避免：多次单独查询</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [UserDao.get_user_by_id(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user_ids]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p><strong>分页查询优化</strong></p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用OFFSET/LIMIT进行内存友好的分页</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">users, total </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserDao.filter_users(user_ids, keyword, page, limit)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol><h3 id="缓存策略" tabindex="-1">缓存策略 <a class="header-anchor" href="#缓存策略" aria-label="Permalink to &quot;缓存策略&quot;">​</a></h3><h4 id="redis缓存集成" tabindex="-1">Redis缓存集成 <a class="header-anchor" href="#redis缓存集成" aria-label="Permalink to &quot;Redis缓存集成&quot;">​</a></h4><table tabindex="0"><thead><tr><th>缓存键格式</th><th>数据内容</th><th>过期时间</th><th>用途</th></tr></thead><tbody><tr><td user_id="">user_current_session:</td><td>JWT令牌</td><td>ACCESS_TOKEN_EXPIRE_TIME + 1小时</td><td>会话管理</td></tr><tr><td username="">user_password_error:</td><td>错误次数</td><td>30分钟</td><td>登录防护</td></tr><tr><td>rsa_</td><td>RSA密钥对</td><td>24小时</td><td>密码解密</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/v1/user.py#L74-L76" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/utils/constants.py#L11-L12" target="_blank" rel="noreferrer">constants.py</a></li></ul><h2 id="故障排除指南" tabindex="-1">故障排除指南 <a class="header-anchor" href="#故障排除指南" aria-label="Permalink to &quot;故障排除指南&quot;">​</a></h2><h3 id="常见问题及解决方案" tabindex="-1">常见问题及解决方案 <a class="header-anchor" href="#常见问题及解决方案" aria-label="Permalink to &quot;常见问题及解决方案&quot;">​</a></h3><h4 id="用户认证失败" tabindex="-1">用户认证失败 <a class="header-anchor" href="#用户认证失败" aria-label="Permalink to &quot;用户认证失败&quot;">​</a></h4><p><strong>问题症状</strong>：用户登录时返回认证错误</p><p><strong>排查步骤</strong>：</p><ol><li>检查用户名是否存在：<code>UserDao.get_user_by_username(username)</code></li><li>验证密码加密方式：确认使用SHA-256算法</li><li>检查用户状态：确认用户未被禁用(<code>delete=False</code>)</li><li>查看Redis缓存状态：检查会话缓存是否正确设置</li></ol><p><strong>解决方案</strong>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新设置用户密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">encrypted_password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserService.encrypt_sha256_password(new_password)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserDao.update_user_password(user_id, encrypted_password)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="权限验证异常" tabindex="-1">权限验证异常 <a class="header-anchor" href="#权限验证异常" aria-label="Permalink to &quot;权限验证异常&quot;">​</a></h4><p><strong>问题症状</strong>：用户权限检查失败</p><p><strong>排查步骤</strong>：</p><ol><li>检查用户角色分配：<code>UserRoleDao.get_user_roles(user_id)</code></li><li>验证角色ID有效性：确认使用正确的角色常量</li><li>检查权限逻辑：确认AdminRole判断正确</li></ol><p><strong>解决方案</strong>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新分配用户角色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserRoleDao.add_user_roles(user_id, [DefaultRole])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="数据库查询性能问题" tabindex="-1">数据库查询性能问题 <a class="header-anchor" href="#数据库查询性能问题" aria-label="Permalink to &quot;数据库查询性能问题&quot;">​</a></h4><p><strong>问题症状</strong>：用户查询响应缓慢</p><p><strong>排查步骤</strong>：</p><ol><li>检查索引使用情况：<code>EXPLAIN</code>查询计划</li><li>分析查询频率：识别热点查询</li><li>检查数据量：评估表大小和索引效率</li></ol><p><strong>优化建议</strong>：</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加复合索引（如果需要）</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CREATE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> INDEX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> idx_user_name_delete </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user(user_name, delete)</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/user.py#L66-L75" target="_blank" rel="noreferrer">user.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/dao/user.py#L22-L25" target="_blank" rel="noreferrer">user.py</a></li></ul><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>AgentChat的用户数据模型设计体现了现代Web应用的最佳实践，通过以下关键特性实现了高效、安全、可扩展的用户管理系统：</p><h3 id="设计优势" tabindex="-1">设计优势 <a class="header-anchor" href="#设计优势" aria-label="Permalink to &quot;设计优势&quot;">​</a></h3><ol><li><strong>安全性</strong>：采用多层加密机制，敏感字段自动过滤，防止数据泄露</li><li><strong>性能</strong>：合理的索引设计和查询优化，支持高并发用户场景</li><li><strong>可维护性</strong>：清晰的分层架构，遵循单一职责原则</li><li><strong>扩展性</strong>：灵活的角色权限系统，支持复杂的业务需求</li></ol><h3 id="技术亮点" tabindex="-1">技术亮点 <a class="header-anchor" href="#技术亮点" aria-label="Permalink to &quot;技术亮点&quot;">​</a></h3><ul><li><strong>SQLModel框架</strong>：结合ORM和Pydantic的优势，提供强类型支持</li><li><strong>序列化过滤</strong>：智能的敏感字段处理机制</li><li><strong>异步支持</strong>：完整的异步数据库操作支持</li><li><strong>缓存集成</strong>：Redis缓存提升系统性能</li></ul><h3 id="最佳实践建议" tabindex="-1">最佳实践建议 <a class="header-anchor" href="#最佳实践建议" aria-label="Permalink to &quot;最佳实践建议&quot;">​</a></h3><ol><li><strong>定期备份</strong>：建立完善的数据库备份策略</li><li><strong>监控告警</strong>：实施性能监控和异常告警</li><li><strong>安全审计</strong>：定期审查权限分配和访问日志</li><li><strong>版本升级</strong>：及时跟进SQLModel和相关依赖的安全更新</li></ol><p>该用户数据模型为AgentChat平台提供了坚实的基础，支撑着整个系统的用户管理和权限控制功能，是构建可信、高效AI助手生态系统的重要组成部分。</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Shy2593666979/AgentChat/edit/main/docs/数据库设计/关系型数据模型/用户数据模型.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> 在 GitHub 上编辑此页面<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>最后更新于: <time datetime="2025-11-27T11:56:00.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>模型总览</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%99%BA%E8%83%BD%E4%BD%93%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>智能体数据模型</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>基于 MIT 许可发布</p><p class="copyright" data-v-566314d4>Copyright © 2024 AgentChat</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api参考_agent api.md\":\"BoXC74Ii\",\"api参考_api参考.md\":\"DnWWcQcZ\",\"api参考_mcp服务api.md\":\"sVbv4wa1\",\"api参考_对话api.md\":\"dIFfUF2M\",\"api参考_工具api.md\":\"6BujpVFn\",\"api参考_用户api.md\":\"IdNF7w__\",\"api参考_知识库api.md\":\"DALXKeQi\",\"index.md\":\"3uOdMfln\",\"sidebar.md\":\"DI6-866b\",\"安全考虑_api安全_api安全.md\":\"DkRDtCmD\",\"安全考虑_api安全_沙箱执行安全.md\":\"BYmf-Z_N\",\"安全考虑_api安全_输入验证与防注入.md\":\"CGSHnz4l\",\"安全考虑_安全考虑.md\":\"HSGg-aRA\",\"安全考虑_数据安全_传输安全.md\":\"D0LS0Ohf\",\"安全考虑_数据安全_密码哈希与数据加密.md\":\"BLUaZYzY\",\"安全考虑_数据安全_数据安全.md\":\"_JJAIrcd\",\"安全考虑_认证与授权_令牌生成与验证_令牌刷新与失效.md\":\"D_V-2C-z\",\"安全考虑_认证与授权_令牌生成与验证_令牌生成与验证.md\":\"Bz2uqfb9\",\"安全考虑_认证与授权_令牌生成与验证_令牌生成机制.md\":\"DkOENN5e\",\"安全考虑_认证与授权_令牌生成与验证_令牌验证流程.md\":\"DGWMEFMj\",\"安全考虑_认证与授权_安全策略_csrf策略.md\":\"B6pNoB9v\",\"安全考虑_认证与授权_安全策略_传输安全.md\":\"BEkG2EG5\",\"安全考虑_认证与授权_安全策略_安全策略.md\":\"B8eDZJ9p\",\"安全考虑_认证与授权_安全策略_访问控制.md\":\"ssGVZKX-\",\"安全考虑_认证与授权_认证与授权.md\":\"Bd3JAd8h\",\"安全考虑_认证与授权_认证配置.md\":\"C-F0rXTe\",\"安全考虑_访问控制.md\":\"C_dv55HP\",\"开发指南_开发指南.md\":\"CvRSPA-7\",\"开发指南_测试策略.md\":\"B0O_Q_Gx\",\"开发指南_环境搭建.md\":\"BDD2tf8g\",\"开发指南_编码规范.md\":\"f72cRaUx\",\"开发指南_调试技巧.md\":\"JJKynXRc\",\"快速入门.md\":\"CgeucNZ9\",\"技术栈.md\":\"DPgHeCi2\",\"数据库设计_关系型数据模型_mcp服务配置模型.md\":\"DAeWi6Sg\",\"数据库设计_关系型数据模型_关系型数据模型.md\":\"ZptXzVel\",\"数据库设计_关系型数据模型_对话会话数据模型.md\":\"CLTpTTR6\",\"数据库设计_关系型数据模型_工作区会话模型.md\":\"WkWgLPW_\",\"数据库设计_关系型数据模型_工具定义数据模型.md\":\"BgNfqCHJ\",\"数据库设计_关系型数据模型_智能体数据模型.md\":\"CEegsGC5\",\"数据库设计_关系型数据模型_消息记录数据模型.md\":\"BpBgsMSt\",\"数据库设计_关系型数据模型_用户数据模型.md\":\"BkN8VbFv\",\"数据库设计_关系型数据模型_知识库数据模型.md\":\"BM2irBYa\",\"数据库设计_关系型数据模型_知识文件数据模型.md\":\"CcLxMpSs\",\"数据库设计_向量存储架构_elasticsearch配置.md\":\"FtV8fn3f\",\"数据库设计_向量存储架构_向量存储架构.md\":\"WhSvxXEQ\",\"数据库设计_向量存储架构_向量数据库集成_chromadb 集成.md\":\"BfmzJyLG\",\"数据库设计_向量存储架构_向量数据库集成_milvus 集成.md\":\"D_BTfWMC\",\"数据库设计_向量存储架构_向量数据库集成_向量数据库集成.md\":\"DF74Dc-B\",\"数据库设计_向量存储架构_文档解析与向量化_文本向量化.md\":\"D5QmipM2\",\"数据库设计_向量存储架构_文档解析与向量化_文档解析.md\":\"CyK8-giB\",\"数据库设计_向量存储架构_文档解析与向量化_文档解析与向量化.md\":\"NBbeTUM5\",\"数据库设计_数据库设计.md\":\"D-edM2aa\",\"核心功能模块_mcp集成.md\":\"DwKFlY08\",\"核心功能模块_多agent系统.md\":\"CQyDFxX3\",\"核心功能模块_工具生态系统.md\":\"mVwqOzcO\",\"核心功能模块_核心功能模块.md\":\"CySmXmx6\",\"核心功能模块_知识库系统.md\":\"BVe2UuQX\",\"系统概述.md\":\"DAp3idQj\",\"部署指南_开发环境部署.md\":\"CcgLztPH\",\"部署指南_生产环境部署_反向代理配置.md\":\"Cgp8jnV4\",\"部署指南_生产环境部署_安全加固.md\":\"JytOkqlf\",\"部署指南_生产环境部署_生产服务配置.md\":\"xvPDb8FT\",\"部署指南_生产环境部署_生产环境部署.md\":\"D1cjjTnX\",\"部署指南_运维管理_备份与恢复.md\":\"qlb3E_wW\",\"部署指南_运维管理_服务管理.md\":\"-HyYXvCr\",\"部署指南_运维管理_监控与维护.md\":\"Bzzvdtds\",\"部署指南_运维管理_运维管理.md\":\"zQJYuypq\",\"部署指南_部署指南.md\":\"BVU6oCyi\",\"项目目录结构_前端目录结构_api集成.md\":\"Chf_nqEa\",\"项目目录结构_前端目录结构_ui组件体系.md\":\"DwRLbXPZ\",\"项目目录结构_前端目录结构_前端目录结构.md\":\"ClRGFCbM\",\"项目目录结构_前端目录结构_状态管理.md\":\"EoAjtg8z\",\"项目目录结构_前端目录结构_路由与导航.md\":\"C0w_Gvuo\",\"项目目录结构_后端目录结构_api层.md\":\"zlba20i0\",\"项目目录结构_后端目录结构_后端目录结构.md\":\"CfeWlJMn\",\"项目目录结构_后端目录结构_数据层.md\":\"D_PBLUmd\",\"项目目录结构_后端目录结构_服务层_mcp服务.md\":\"E9og9Hp-\",\"项目目录结构_后端目录结构_服务层_rag服务.md\":\"Dy89AbiB\",\"项目目录结构_后端目录结构_服务层_服务层.md\":\"hyBqFjKr\",\"项目目录结构_后端目录结构_服务层_核心服务.md\":\"BYWADGcv\",\"项目目录结构_后端目录结构_服务层_记忆服务.md\":\"MRdvAQi6\",\"项目目录结构_后端目录结构_核心功能层_react智能体.md\":\"DIGhNzUS\",\"项目目录结构_后端目录结构_核心功能层_核心功能层.md\":\"CoMgyboI\",\"项目目录结构_后端目录结构_核心功能层_统一模型管理器.md\":\"CBaCMauk\",\"项目目录结构_后端目录结构_核心功能层_计划-执行智能体.md\":\"CWss6Gyu\",\"项目目录结构_项目目录结构.md\":\"BzZwFJgB\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"AgentChat\",\"description\":\"基于大语言模型的智能对话系统技术文档\",\"base\":\"/agentchat-docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"快速入门\",\"link\":\"/快速入门\"},{\"text\":\"系统概述\",\"link\":\"/系统概述\"},{\"text\":\"技术栈\",\"link\":\"/技术栈\"},{\"text\":\"核心功能\",\"items\":[{\"text\":\"多Agent系统\",\"link\":\"/核心功能模块/多Agent系统\"},{\"text\":\"MCP集成\",\"link\":\"/核心功能模块/MCP集成\"},{\"text\":\"知识库系统\",\"link\":\"/核心功能模块/知识库系统\"},{\"text\":\"工具生态系统\",\"link\":\"/核心功能模块/工具生态系统\"}]},{\"text\":\"API文档\",\"items\":[{\"text\":\"API总览\",\"link\":\"/API参考/API参考\"},{\"text\":\"Agent API\",\"link\":\"/API参考/Agent API\"},{\"text\":\"对话 API\",\"link\":\"/API参考/对话API\"},{\"text\":\"知识库 API\",\"link\":\"/API参考/知识库API\"}]},{\"text\":\"开发指南\",\"items\":[{\"text\":\"环境搭建\",\"link\":\"/开发指南/环境搭建\"},{\"text\":\"编码规范\",\"link\":\"/开发指南/编码规范\"},{\"text\":\"调试技巧\",\"link\":\"/开发指南/调试技巧\"}]}],\"sidebar\":{\"/\":[{\"text\":\"入门与概览\",\"collapsed\":false,\"items\":[{\"text\":\"系统概述\",\"link\":\"/系统概述\"},{\"text\":\"快速入门\",\"link\":\"/快速入门\"},{\"text\":\"技术栈\",\"link\":\"/技术栈\"}]},{\"text\":\"核心功能模块\",\"collapsed\":false,\"items\":[{\"text\":\"核心功能模块\",\"link\":\"/核心功能模块/核心功能模块\"},{\"text\":\"多Agent系统\",\"link\":\"/核心功能模块/多Agent系统\"},{\"text\":\"MCP集成\",\"link\":\"/核心功能模块/MCP集成\"},{\"text\":\"工具生态系统\",\"link\":\"/核心功能模块/工具生态系统\"},{\"text\":\"知识库系统\",\"link\":\"/核心功能模块/知识库系统\"}]},{\"text\":\"API 参考\",\"collapsed\":true,\"items\":[{\"text\":\"API总览\",\"link\":\"/API参考/API参考\"},{\"text\":\"Agent API\",\"link\":\"/API参考/Agent API\"},{\"text\":\"对话 API\",\"link\":\"/API参考/对话API\"},{\"text\":\"工具 API\",\"link\":\"/API参考/工具API\"},{\"text\":\"用户 API\",\"link\":\"/API参考/用户API\"},{\"text\":\"知识库 API\",\"link\":\"/API参考/知识库API\"},{\"text\":\"MCP服务 API\",\"link\":\"/API参考/MCP服务API\"}]},{\"text\":\"数据库设计\",\"collapsed\":true,\"items\":[{\"text\":\"设计总览\",\"link\":\"/数据库设计/数据库设计\"},{\"text\":\"关系型数据模型\",\"items\":[{\"text\":\"模型总览\",\"link\":\"/数据库设计/关系型数据模型/关系型数据模型\"},{\"text\":\"用户数据模型\",\"link\":\"/数据库设计/关系型数据模型/用户数据模型\"},{\"text\":\"智能体数据模型\",\"link\":\"/数据库设计/关系型数据模型/智能体数据模型\"},{\"text\":\"对话会话模型\",\"link\":\"/数据库设计/关系型数据模型/对话会话数据模型\"},{\"text\":\"消息记录模型\",\"link\":\"/数据库设计/关系型数据模型/消息记录数据模型\"},{\"text\":\"知识库模型\",\"link\":\"/数据库设计/关系型数据模型/知识库数据模型\"},{\"text\":\"MCP服务配置\",\"link\":\"/数据库设计/关系型数据模型/MCP服务配置模型\"}]},{\"text\":\"向量存储架构\",\"items\":[{\"text\":\"架构总览\",\"link\":\"/数据库设计/向量存储架构/向量存储架构\"},{\"text\":\"文档解析与向量化\",\"link\":\"/数据库设计/向量存储架构/文档解析与向量化/文档解析与向量化\"},{\"text\":\"向量数据库集成\",\"link\":\"/数据库设计/向量存储架构/向量数据库集成/向量数据库集成\"}]}]},{\"text\":\"项目目录结构\",\"collapsed\":true,\"items\":[{\"text\":\"结构总览\",\"link\":\"/项目目录结构/项目目录结构\"},{\"text\":\"前端目录\",\"link\":\"/项目目录结构/前端目录结构/前端目录结构\"},{\"text\":\"后端目录\",\"link\":\"/项目目录结构/后端目录结构/后端目录结构\"}]},{\"text\":\"开发指南\",\"collapsed\":true,\"items\":[{\"text\":\"开发指南\",\"link\":\"/开发指南/开发指南\"},{\"text\":\"环境搭建\",\"link\":\"/开发指南/环境搭建\"},{\"text\":\"编码规范\",\"link\":\"/开发指南/编码规范\"},{\"text\":\"调试技巧\",\"link\":\"/开发指南/调试技巧\"},{\"text\":\"测试策略\",\"link\":\"/开发指南/测试策略\"}]},{\"text\":\"部署指南\",\"collapsed\":true,\"items\":[{\"text\":\"部署指南\",\"link\":\"/部署指南/部署指南\"},{\"text\":\"开发环境部署\",\"link\":\"/部署指南/开发环境部署\"},{\"text\":\"生产环境部署\",\"link\":\"/部署指南/生产环境部署/生产环境部署\"},{\"text\":\"运维管理\",\"link\":\"/部署指南/运维管理/运维管理\"}]},{\"text\":\"安全考虑\",\"collapsed\":true,\"items\":[{\"text\":\"安全概述\",\"link\":\"/安全考虑/安全考虑\"},{\"text\":\"API安全\",\"items\":[{\"text\":\"API安全概览\",\"link\":\"/安全考虑/API安全/API安全\"},{\"text\":\"输入验证与防注入\",\"link\":\"/安全考虑/API安全/输入验证与防注入\"},{\"text\":\"沙箱执行安全\",\"link\":\"/安全考虑/API安全/沙箱执行安全\"}]},{\"text\":\"数据安全\",\"items\":[{\"text\":\"数据安全概览\",\"link\":\"/安全考虑/数据安全/数据安全\"},{\"text\":\"传输安全\",\"link\":\"/安全考虑/数据安全/传输安全\"},{\"text\":\"密码哈希与加密\",\"link\":\"/安全考虑/数据安全/密码哈希与数据加密\"}]},{\"text\":\"认证与授权\",\"items\":[{\"text\":\"认证与授权概览\",\"link\":\"/安全考虑/认证与授权/认证与授权\"},{\"text\":\"令牌生成与验证\",\"link\":\"/安全考虑/认证与授权/令牌生成与验证/令牌生成与验证\"},{\"text\":\"安全策略\",\"link\":\"/安全考虑/认证与授权/安全策略/安全策略\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Shy2593666979/AgentChat\"}],\"footer\":{\"message\":\"基于 MIT 许可发布\",\"copyright\":\"Copyright © 2024 AgentChat\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"zh\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}}},\"editLink\":{\"pattern\":\"https://github.com/Shy2593666979/AgentChat/edit/main/docs/:path\",\"text\":\"在 GitHub 上编辑此页面\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>