import{_ as e,c as a,o as i,ag as n}from"./chunks/framework.D0TaUBpX.js";const u=JSON.parse('{"title":"编码规范","description":"","frontmatter":{},"headers":[],"relativePath":"开发指南/编码规范.md","filePath":"开发指南/编码规范.md","lastUpdated":1764244560000}'),r={name:"开发指南/编码规范.md"};function s(l,t,o,h,c,p){return i(),a("div",null,[...t[0]||(t[0]=[n(`<h1 id="编码规范" tabindex="-1">编码规范 <a class="header-anchor" href="#编码规范" aria-label="Permalink to &quot;编码规范&quot;">​</a></h1><cite> **本文档中引用的文件** - [pyproject.toml](https://github.com/Shy2593666979/AgentChat/pyproject.toml) - [package.json](https://github.com/Shy2593666979/AgentChat/src/frontend/package.json) - [tsconfig.json](https://github.com/Shy2593666979/AgentChat/src/frontend/tsconfig.json) - [main.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py) - [settings.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py) - [chat.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/chat.py) - [vite.config.ts](https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts) - [chat.ts](https://github.com/Shy2593666979/AgentChat/src/frontend/src/apis/chat.ts) </cite><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ol><li><a href="#简介">简介</a></li><li><a href="#后端python代码规范">后端Python代码规范</a></li><li><a href="#前端typescript代码规范">前端TypeScript代码规范</a></li><li><a href="#git提交规范">Git提交规范</a></li><li><a href="#pull-request审查流程">Pull Request审查流程</a></li><li><a href="#代码示例对比">代码示例对比</a></li><li><a href="#结论">结论</a></li></ol><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>本项目旨在构建一个基于大语言模型的智能代理通信平台，采用前后端分离架构。后端使用Python和FastAPI框架，前端使用Vue 3和TypeScript技术栈。为确保代码质量、可维护性和团队协作效率，制定了统一的编码风格和提交规范。</p><p><strong>本文档中引用的文件</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json" target="_blank" rel="noreferrer">package.json</a></li></ul><h2 id="后端python代码规范" tabindex="-1">后端Python代码规范 <a class="header-anchor" href="#后端python代码规范" aria-label="Permalink to &quot;后端Python代码规范&quot;">​</a></h2><p>后端Python代码遵循PEP8规范，并使用Black进行代码格式化、isort管理导入顺序。相关配置在<code>pyproject.toml</code>文件中定义。</p><p>通过分析<code>pyproject.toml</code>文件，项目使用Poetry进行依赖管理，指定了Python版本为3.12以上，并引入了FastAPI、LangChain、SQLModel等关键库。虽然未在配置文件中显式声明Black和isort，但从代码实际风格可以看出，项目遵循了严格的格式化标准：使用4个空格缩进、行长度限制、清晰的导入分组等。</p><p>代码结构清晰，采用模块化设计，包含API接口、核心逻辑、数据库操作、服务层等多个模块。类型注解广泛使用，增强了代码的可读性和安全性。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L1-L43" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py#L1-L108" target="_blank" rel="noreferrer">main.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py#L1-L62" target="_blank" rel="noreferrer">settings.py</a></li></ul><h2 id="前端typescript代码规范" tabindex="-1">前端TypeScript代码规范 <a class="header-anchor" href="#前端typescript代码规范" aria-label="Permalink to &quot;前端TypeScript代码规范&quot;">​</a></h2><p>前端TypeScript代码使用ESLint和Prettier进行代码检查与格式化，配置位于<code>package.json</code>和<code>tsconfig.json</code>中。</p><p><code>package.json</code>文件显示项目使用Vite作为构建工具，Vue 3作为核心框架，并集成了Element Plus UI组件库。开发依赖中包含TypeScript和Vue-TSC，确保类型安全。<code>tsconfig.json</code>通过引用<code>tsconfig.app.json</code>和<code>tsconfig.node.json</code>实现分层配置，支持应用程序和构建脚本的不同需求。</p><p>代码风格遵循TypeScript最佳实践，使用ES模块语法，接口定义清晰，异步操作通过async/await处理，API调用封装良好，错误处理机制健全。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A[&quot;前端代码规范&quot;] --&gt; B[&quot;TypeScript&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A --&gt; C[&quot;ESLint&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A --&gt; D[&quot;Prettier&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A --&gt; E[&quot;Vite&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B --&gt; F[&quot;类型安全&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C --&gt; G[&quot;代码质量&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D --&gt; H[&quot;格式统一&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">E --&gt; I[&quot;构建优化&quot;]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L1-L41" target="_blank" rel="noreferrer">package.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/tsconfig.json#L1-L8" target="_blank" rel="noreferrer">tsconfig.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts#L1-L31" target="_blank" rel="noreferrer">vite.config.ts</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L1-L41" target="_blank" rel="noreferrer">package.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/tsconfig.json#L1-L8" target="_blank" rel="noreferrer">tsconfig.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/apis/chat.ts#L1-L147" target="_blank" rel="noreferrer">chat.ts</a></li></ul><h2 id="git提交规范" tabindex="-1">Git提交规范 <a class="header-anchor" href="#git提交规范" aria-label="Permalink to &quot;Git提交规范&quot;">​</a></h2><p>Git提交信息需遵循Conventional Commits规范，使用标准化的前缀来标识提交类型：</p><ul><li><code>feat:</code> 新功能</li><li><code>fix:</code> 修复缺陷</li><li><code>docs:</code> 文档更新</li><li><code>style:</code> 代码格式调整（不影响逻辑）</li><li><code>refactor:</code> 代码重构</li><li><code>test:</code> 测试相关</li><li><code>chore:</code> 构建过程或辅助工具变动</li></ul><p>这种规范化的提交信息有助于自动生成变更日志、理解提交目的，并支持语义化版本控制。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L1-L43" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L1-L41" target="_blank" rel="noreferrer">package.json</a></li></ul><h2 id="pull-request审查流程" tabindex="-1">Pull Request审查流程 <a class="header-anchor" href="#pull-request审查流程" aria-label="Permalink to &quot;Pull Request审查流程&quot;">​</a></h2><p>所有Pull Request必须经过至少一名团队成员审查，以确保代码质量。审查重点包括：</p><ul><li>代码功能正确性</li><li>是否符合编码规范</li><li>文档是否同步更新</li><li>测试覆盖率是否充足</li><li>是否存在潜在性能问题</li><li>安全性考虑</li></ul><p>审查通过后方可合并到主分支，确保主干代码的稳定性和可靠性。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py#L1-L108" target="_blank" rel="noreferrer">main.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/chat.py#L1-L267" target="_blank" rel="noreferrer">chat.py</a></li></ul><h2 id="代码示例对比" tabindex="-1">代码示例对比 <a class="header-anchor" href="#代码示例对比" aria-label="Permalink to &quot;代码示例对比&quot;">​</a></h2><h3 id="python代码示例" tabindex="-1">Python代码示例 <a class="header-anchor" href="#python代码示例" aria-label="Permalink to &quot;Python代码示例&quot;">​</a></h3><p><strong>正确写法：</strong></p><ul><li>使用类型注解</li><li>函数和类有清晰的文档字符串</li><li>遵循PEP8命名规范</li><li>导入语句分组有序</li></ul><p><strong>错误写法：</strong></p><ul><li>缺少类型注解</li><li>无文档说明</li><li>命名不规范</li><li>导入混乱</li></ul><h3 id="typescript代码示例" tabindex="-1">TypeScript代码示例 <a class="header-anchor" href="#typescript代码示例" aria-label="Permalink to &quot;TypeScript代码示例&quot;">​</a></h3><p><strong>正确写法：</strong></p><ul><li>使用接口定义数据结构</li><li>异步函数使用async/await</li><li>错误处理完整</li><li>类型安全的API调用</li></ul><p><strong>错误写法：</strong></p><ul><li>使用any类型</li><li>忽略Promise错误处理</li><li>缺少类型定义</li><li>冗余代码</li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/api/services/chat.py#L1-L267" target="_blank" rel="noreferrer">chat.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/apis/chat.ts#L1-L147" target="_blank" rel="noreferrer">chat.ts</a></li></ul><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>本项目的编码规范体系完整，从前端到后端、从代码格式到提交信息都有明确要求。通过实施这些规范，可以有效提升代码质量、增强团队协作效率、降低维护成本。建议所有开发者严格遵守本规范，共同维护项目的健康发展。</p>`,50)])])}const d=e(r,[["render",s]]);export{u as __pageData,d as default};
