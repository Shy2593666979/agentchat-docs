import{_ as a,c as s,o as n,ag as t}from"./chunks/framework.7BqJGZTL.js";const g=JSON.parse('{"title":"技术栈","description":"","frontmatter":{},"headers":[],"relativePath":"技术栈.md","filePath":"技术栈.md","lastUpdated":1764244560000}'),r={name:"技术栈.md"};function i(l,e,c,o,p,h){return n(),s("div",null,[...e[0]||(e[0]=[t(`<h1 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h1><cite> **本文档中引用的文件** - [pyproject.toml](https://github.com/Shy2593666979/AgentChat/pyproject.toml) - [src/frontend/package.json](https://github.com/Shy2593666979/AgentChat/src/frontend/package.json) - [docker/docker-compose.yml](https://github.com/Shy2593666979/AgentChat/docker/docker-compose.yml) - [docker/Dockerfile](https://github.com/Shy2593666979/AgentChat/docker/Dockerfile) - [src/backend/agentchat/main.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py) - [src/frontend/vite.config.ts](https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts) - [src/frontend/src/main.ts](https://github.com/Shy2593666979/AgentChat/src/frontend/src/main.ts) - [src/backend/agentchat/settings.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/settings.py) - [src/backend/agentchat/core/models/embedding.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/core/models/embedding.py) - [src/backend/agentchat/services/memory/vector_stores/chroma.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/chroma.py) - [src/backend/agentchat/services/memory/vector_stores/milvus.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/milvus.py) - [src/backend/agentchat/services/sandbox/pyodide.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/sandbox/pyodide.py) - [src/backend/agentchat/services/rag/es_client.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/rag/es_client.py) </cite><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ol><li><a href="#引言">引言</a></li><li><a href="#后端技术栈">后端技术栈</a><ul><li><a href="#fastapi">FastAPI</a></li><li><a href="#sqlmodel">SQLModel</a></li><li><a href="#langchain">LangChain</a></li><li><a href="#redis">Redis</a></li><li><a href="#chromadbmilvus">ChromaDB/Milvus</a></li><li><a href="#elasticsearch">Elasticsearch</a></li></ul></li><li><a href="#前端技术栈">前端技术栈</a><ul><li><a href="#vue3">Vue3</a></li><li><a href="#typescript">TypeScript</a></li><li><a href="#vite">Vite</a></li><li><a href="#element-plus">Element Plus</a></li></ul></li><li><a href="#开发与部署工具">开发与部署工具</a><ul><li><a href="#docker">Docker</a></li><li><a href="#docker-compose">docker-compose</a></li><li><a href="#nginx">Nginx</a></li><li><a href="#pyodide">Pyodide</a></li></ul></li><li><a href="#兼容性说明与升级建议">兼容性说明与升级建议</a></li><li><a href="#新开发者学习路径建议">新开发者学习路径建议</a></li><li><a href="#结论">结论</a></li></ol><h2 id="引言" tabindex="-1">引言 <a class="header-anchor" href="#引言" aria-label="Permalink to &quot;引言&quot;">​</a></h2><p>AgentChat项目是一个基于大语言模型（LLM）的智能代理通信平台，采用现代化的技术栈构建。本技术文档详细阐述了项目所采用的技术架构，分为后端、前端和开发工具三个主要部分。通过分析项目配置文件和核心代码，我们将深入探讨每项技术选型的原因及其在系统中的角色，为开发者提供全面的技术理解。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L1-L43" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L1-L41" target="_blank" rel="noreferrer">src/frontend/package.json</a></li></ul><h2 id="后端技术栈" tabindex="-1">后端技术栈 <a class="header-anchor" href="#后端技术栈" aria-label="Permalink to &quot;后端技术栈&quot;">​</a></h2><h3 id="fastapi" tabindex="-1">FastAPI <a class="header-anchor" href="#fastapi" aria-label="Permalink to &quot;FastAPI&quot;">​</a></h3><p>FastAPI是AgentChat后端的核心框架，用于构建RESTful API和WebSocket服务。项目在<code>pyproject.toml</code>中明确依赖<code>fastapi = &quot;^0.121.0&quot;</code>，并在<code>src/backend/agentchat/main.py</code>中作为主要导入使用。FastAPI的异步特性极大地提升了API性能，能够高效处理大量并发请求，这对于实时聊天和AI代理交互至关重要。其基于Pydantic的自动数据验证和OpenAPI文档生成功能，简化了API开发和维护。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A[客户端] --&gt; B[FastAPI]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B --&gt; C[路由处理]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C --&gt; D[业务逻辑]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D --&gt; E[数据库/缓存]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">E --&gt; F[AI模型]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">F --&gt; G[响应]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">G --&gt; A</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py#L3-L108" target="_blank" rel="noreferrer">src/backend/agentchat/main.py</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L18" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py#L3" target="_blank" rel="noreferrer">src/backend/agentchat/main.py</a></li></ul><h3 id="sqlmodel" tabindex="-1">SQLModel <a class="header-anchor" href="#sqlmodel" aria-label="Permalink to &quot;SQLModel&quot;">​</a></h3><p>SQLModel作为ORM（对象关系映射）工具，负责后端与MySQL数据库的交互。它在<code>pyproject.toml</code>中被列为依赖<code>sqlmodel = &quot;^0.0.27&quot;</code>。SQLModel结合了SQLAlchemy的强大功能和Pydantic的数据验证能力，使数据库操作既安全又高效。项目通过<code>src/backend/agentchat/database/models/</code>目录下的模型定义，实现了数据表与Python类的映射，简化了数据持久化操作。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L19" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/database/models/" target="_blank" rel="noreferrer">src/backend/agentchat/database/models/</a></li></ul><h3 id="langchain" tabindex="-1">LangChain <a class="header-anchor" href="#langchain" aria-label="Permalink to &quot;LangChain&quot;">​</a></h3><p>LangChain是项目AI能力的核心，用于实现AI链式调用和复杂代理逻辑。<code>pyproject.toml</code>中列出了<code>langchain = &quot;^1.0.3&quot;</code>等系列依赖。LangChain提供了构建LLM应用的模块化组件，如链（Chains）、代理（Agents）和工具（Tools），使开发者能够轻松构建复杂的AI工作流。在<code>src/backend/agentchat/core/agents/</code>目录下，可以看到多种代理（如React Agent、Plan-Execute Agent）的实现，这些都依赖于LangChain框架。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L10-L11" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/core/agents/" target="_blank" rel="noreferrer">src/backend/agentchat/core/agents/</a></li></ul><h3 id="redis" tabindex="-1">Redis <a class="header-anchor" href="#redis" aria-label="Permalink to &quot;Redis&quot;">​</a></h3><p>Redis在项目中扮演缓存管理的角色，用于存储会话数据、临时结果和系统状态。<code>pyproject.toml</code>中依赖<code>redis = &quot;^7.0.1&quot;</code>，<code>docker-compose.yml</code>中也定义了Redis服务。通过Redis，系统可以快速访问频繁使用的数据，显著降低数据库负载，提升响应速度。在<code>src/backend/agentchat/services/redis.py</code>中，可以找到Redis客户端的封装和使用。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A[FastAPI] --&gt; B[Redis]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B --&gt; C[(内存存储)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C --&gt; D[高速读写]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D --&gt; A</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker-compose.yml#L31-L49" target="_blank" rel="noreferrer">docker-compose.yml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/redis.py" target="_blank" rel="noreferrer">src/backend/agentchat/services/redis.py</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L21" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker-compose.yml#L31-L49" target="_blank" rel="noreferrer">docker-compose.yml</a></li></ul><h3 id="chromadb-milvus" tabindex="-1">ChromaDB/Milvus <a class="header-anchor" href="#chromadb-milvus" aria-label="Permalink to &quot;ChromaDB/Milvus&quot;">​</a></h3><p>ChromaDB和Milvus作为向量存储系统，用于存储和检索AI模型生成的向量嵌入。<code>pyproject.toml</code>中同时依赖<code>chromadb = &quot;^1.3.4&quot;</code>和<code>pymilvus = &quot;^2.6.3&quot;</code>。这两个系统支持相似性搜索，是实现RAG（检索增强生成）功能的关键。项目在<code>src/backend/agentchat/services/memory/vector_stores/</code>目录下分别实现了ChromaDB和Milvus的适配器，允许系统根据配置灵活选择向量数据库。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">classDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class VectorStoreBase {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;&lt;abstract&gt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+insert(vectors, payloads, ids)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+search(query, vectors, limit, filters)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+delete(vector_id)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+update(vector_id, vector, payload)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class ChromaDB {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+client : chromadb.Client</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+collection : chromadb.Collection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+create_col(name, embedding_fn)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+_parse_output(data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class MilvusDB {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+client : MilvusClient</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+collection_name : str</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+create_col(collection_name, vector_size, metric_type)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">+_create_filter(filters)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VectorStoreBase &lt;|-- ChromaDB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VectorStoreBase &lt;|-- MilvusDB</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/base.py" target="_blank" rel="noreferrer">src/backend/agentchat/services/memory/vector_stores/base.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/chroma.py" target="_blank" rel="noreferrer">src/backend/agentchat/services/memory/vector_stores/chroma.py</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/milvus.py" target="_blank" rel="noreferrer">src/backend/agentchat/services/memory/vector_stores/milvus.py</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L28-L29" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/memory/vector_stores/" target="_blank" rel="noreferrer">src/backend/agentchat/services/memory/vector_stores/</a></li></ul><h3 id="elasticsearch" tabindex="-1">Elasticsearch <a class="header-anchor" href="#elasticsearch" aria-label="Permalink to &quot;Elasticsearch&quot;">​</a></h3><p>Elasticsearch用于全文检索，为知识库和文档提供高效的搜索能力。<code>pyproject.toml</code>中依赖<code>elasticsearch = &quot;^9.2.0&quot;</code>。它与向量数据库形成互补，Elasticsearch处理关键词匹配，而向量数据库处理语义相似性搜索。这种混合检索策略（Hybrid Search）能提供更全面和准确的搜索结果。项目在<code>src/backend/agentchat/services/rag/es_client.py</code>中封装了Elasticsearch客户端。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L24" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/rag/es_client.py" target="_blank" rel="noreferrer">src/backend/agentchat/services/rag/es_client.py</a></li></ul><h2 id="前端技术栈" tabindex="-1">前端技术栈 <a class="header-anchor" href="#前端技术栈" aria-label="Permalink to &quot;前端技术栈&quot;">​</a></h2><h3 id="vue3" tabindex="-1">Vue3 <a class="header-anchor" href="#vue3" aria-label="Permalink to &quot;Vue3&quot;">​</a></h3><p>Vue3是前端的UI框架，采用组件化开发模式。<code>package.json</code>中依赖<code>vue&quot;: &quot;^3.4.21&quot;</code>。Vue3的Composition API和响应式系统优化了用户体验，使界面能够高效地响应数据变化。项目在<code>src/frontend/src/components/</code>和<code>src/frontend/src/pages/</code>目录下组织了大量Vue组件，如<code>agentCard.vue</code>、<code>chatPage.vue</code>等，实现了模块化的UI设计。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L26" target="_blank" rel="noreferrer">src/frontend/package.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/components/" target="_blank" rel="noreferrer">src/frontend/src/components/</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/pages/" target="_blank" rel="noreferrer">src/frontend/src/pages/</a></li></ul><h3 id="typescript" tabindex="-1">TypeScript <a class="header-anchor" href="#typescript" aria-label="Permalink to &quot;TypeScript&quot;">​</a></h3><p>TypeScript为前端提供了类型安全，<code>package.json</code>中依赖<code>typescript&quot;: &quot;^5.4.3&quot;</code>。它帮助开发者在开发阶段捕获潜在的错误，提高代码质量和可维护性。项目通过<code>src/frontend/src/type.ts</code>等文件定义了数据类型，确保前后端数据交互的准确性。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L34" target="_blank" rel="noreferrer">src/frontend/package.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/type.ts" target="_blank" rel="noreferrer">src/frontend/src/type.ts</a></li></ul><h3 id="vite" tabindex="-1">Vite <a class="header-anchor" href="#vite" aria-label="Permalink to &quot;Vite&quot;">​</a></h3><p>Vite作为前端构建工具，<code>package.json</code>中依赖<code>vite&quot;: &quot;^5.2.8&quot;</code>。它利用现代浏览器的ES模块支持，提供了极快的冷启动和热更新速度，极大地提升了开发效率。<code>src/frontend/vite.config.ts</code>文件配置了开发服务器、代理和插件。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A[Vite] --&gt; B[开发服务器]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B --&gt; C[热模块替换]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C --&gt; D[快速刷新]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A --&gt; E[构建优化]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">E --&gt; F[生产打包]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts#L1-L31" target="_blank" rel="noreferrer">src/frontend/vite.config.ts</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L37" target="_blank" rel="noreferrer">src/frontend/package.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts" target="_blank" rel="noreferrer">src/frontend/vite.config.ts</a></li></ul><h3 id="element-plus" tabindex="-1">Element Plus <a class="header-anchor" href="#element-plus" aria-label="Permalink to &quot;Element Plus&quot;">​</a></h3><p>Element Plus是项目采用的UI库，<code>package.json</code>中依赖<code>element-plus&quot;: &quot;^2.7.0&quot;</code>。它提供了一套高质量的Vue3组件，如按钮、表单、对话框等，加速了用户界面的开发。项目在<code>src/frontend/src/main.ts</code>中引入了Element Plus，并在多个组件中使用其样式和功能。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L17" target="_blank" rel="noreferrer">src/frontend/package.json</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/main.ts#L8-L9" target="_blank" rel="noreferrer">src/frontend/src/main.ts</a></li></ul><h2 id="开发与部署工具" tabindex="-1">开发与部署工具 <a class="header-anchor" href="#开发与部署工具" aria-label="Permalink to &quot;开发与部署工具&quot;">​</a></h2><h3 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h3><p>Docker用于容器化应用，<code>docker/Dockerfile</code>文件定义了后端服务的构建过程。它基于<code>python:3.12-slim</code>镜像，安装依赖并复制代码，确保了开发、测试和生产环境的一致性。Dockerfile中的<code>CMD</code>指令启动Uvicorn服务器，运行FastAPI应用。</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/Dockerfile#L1-L39" target="_blank" rel="noreferrer">docker/Dockerfile</a></li></ul><h3 id="docker-compose" tabindex="-1">docker-compose <a class="header-anchor" href="#docker-compose" aria-label="Permalink to &quot;docker-compose&quot;">​</a></h3><p>docker-compose用于服务编排，<code>docker/docker-compose.yml</code>文件定义了MySQL、Redis、后端和前端四个服务。它通过网络配置使服务间能够通信，并通过健康检查确保服务依赖的正确启动顺序。这种编排方式简化了多服务应用的部署和管理。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;Docker Compose&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A[MySQL] --&gt; D[Backend]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B[Redis] --&gt; D[Backend]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D[Backend] --&gt; E[Frontend]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">E[Frontend] --&gt; F[Client]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.yml#L1-L126" target="_blank" rel="noreferrer">docker/docker-compose.yml</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.yml#L1-L126" target="_blank" rel="noreferrer">docker/docker-compose.yml</a></li></ul><h3 id="nginx" tabindex="-1">Nginx <a class="header-anchor" href="#nginx" aria-label="Permalink to &quot;Nginx&quot;">​</a></h3><p>Nginx在部署中作为反向代理，虽然在<code>docker-compose.yml</code>中未直接定义，但通常在生产环境中用于代理前端静态资源和后端API，提供负载均衡和SSL终止等功能。</p><h3 id="pyodide" tabindex="-1">Pyodide <a class="header-anchor" href="#pyodide" aria-label="Permalink to &quot;Pyodide&quot;">​</a></h3><p>Pyodide用于在浏览器中执行Python代码，作为沙箱执行环境。<code>src/backend/agentchat/services/sandbox/pyodide.py</code>文件实现了基于Deno和Pyodide的沙箱，利用Deno的安全模型来执行不受信任的代码。这对于需要在安全环境中运行用户代码的AI代理功能至关重要。</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant User as &quot;用户&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Agent as &quot;AI代理&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Sandbox as &quot;Pyodide沙箱&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Deno as &quot;Deno运行时&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User-&gt;&gt;Agent : 提交Python代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Agent-&gt;&gt;Sandbox : 调用execute方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sandbox-&gt;&gt;Deno : spawn Deno子进程</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Deno-&gt;&gt;Deno : 加载Pyodide (WebAssembly)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Deno-&gt;&gt;Deno : 执行Python代码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Deno--&gt;&gt;Sandbox : 返回执行结果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sandbox--&gt;&gt;Agent : CodeExecutionResult</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Agent--&gt;&gt;User : 返回结果</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/sandbox/pyodide.py#L1-L737" target="_blank" rel="noreferrer">src/backend/agentchat/services/sandbox/pyodide.py</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/services/sandbox/pyodide.py" target="_blank" rel="noreferrer">src/backend/agentchat/services/sandbox/pyodide.py</a></li></ul><h2 id="兼容性说明与升级建议" tabindex="-1">兼容性说明与升级建议 <a class="header-anchor" href="#兼容性说明与升级建议" aria-label="Permalink to &quot;兼容性说明与升级建议&quot;">​</a></h2><p>根据<code>pyproject.toml</code>和<code>package.json</code>中的依赖版本，项目当前使用的技术栈版本如下：</p><ul><li>Python 3.12</li><li>FastAPI 0.121.0</li><li>SQLModel 0.0.27</li><li>LangChain 1.0.3</li><li>Vue3 3.4.21</li><li>Vite 5.2.8</li></ul><p>这些版本之间具有良好的兼容性。升级建议：</p><ol><li><strong>FastAPI</strong>: 可以安全升级到最新版本，其向后兼容性良好。</li><li><strong>LangChain</strong>: 由于其API可能频繁变化，升级前需仔细阅读变更日志并进行充分测试。</li><li><strong>Vue3</strong>: 可以考虑升级到最新稳定版，利用其性能改进和新特性。</li><li><strong>TypeScript</strong>: 建议保持与Vite和Vue3的兼容版本同步升级。</li></ol><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/pyproject.toml#L9-L43" target="_blank" rel="noreferrer">pyproject.toml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/package.json#L1-L41" target="_blank" rel="noreferrer">src/frontend/package.json</a></li></ul><h2 id="新开发者学习路径建议" tabindex="-1">新开发者学习路径建议 <a class="header-anchor" href="#新开发者学习路径建议" aria-label="Permalink to &quot;新开发者学习路径建议&quot;">​</a></h2><p>对于新加入的开发者，建议按以下路径学习：</p><ol><li><strong>基础环境</strong>: 首先掌握Docker和docker-compose，能够成功部署和运行整个项目。</li><li><strong>前端入门</strong>: 学习Vue3和TypeScript基础，理解<code>src/frontend/src</code>下的组件结构和路由配置。</li><li><strong>后端核心</strong>: 深入学习FastAPI，理解<code>src/backend/agentchat/main.py</code>中的应用生命周期和中间件。</li><li><strong>数据交互</strong>: 掌握SQLModel和数据库模型，了解<code>src/backend/agentchat/database/</code>下的DAO模式。</li><li><strong>AI集成</strong>: 学习LangChain文档，理解<code>src/backend/agentchat/core/agents/</code>中代理的工作原理。</li><li><strong>高级特性</strong>: 研究向量数据库（ChromaDB/Milvus）和全文检索（Elasticsearch）的集成方式。</li><li><strong>安全沙箱</strong>: 最后学习Pyodide沙箱的实现，理解如何安全地执行不受信任的代码。</li></ol><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.yml" target="_blank" rel="noreferrer">docker/docker-compose.yml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/src/main.ts" target="_blank" rel="noreferrer">src/frontend/src/main.ts</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py" target="_blank" rel="noreferrer">src/backend/agentchat/main.py</a></li></ul><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>AgentChat项目构建了一个现代化、高性能的智能代理平台，其技术栈选型合理，各组件协同工作良好。后端采用FastAPI、SQLModel、LangChain等技术，提供了强大的API和AI处理能力；前端使用Vue3、TypeScript和Vite，保证了优秀的用户体验和开发效率；开发与部署工具如Docker、docker-compose和Pyodide，确保了系统的可维护性和安全性。该技术架构为未来的功能扩展和性能优化奠定了坚实的基础。</p>`,97)])])}const k=a(r,[["render",i]]);export{g as __pageData,k as default};
