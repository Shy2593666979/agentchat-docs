<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx反向代理配置深度解析 | AgentChat</title>
    <meta name="description" content="基于大语言模型的智能对话系统技术文档">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/agentchat-docs/assets/style.DTT6M7rU.css" as="style">
    <link rel="preload stylesheet" href="/agentchat-docs/vp-icons.css" as="style">
    
    <script type="module" src="/agentchat-docs/assets/app.D_XsrFjJ.js"></script>
    <link rel="preload" href="/agentchat-docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/agentchat-docs/assets/chunks/theme.Cw3hXjMi.js">
    <link rel="modulepreload" href="/agentchat-docs/assets/chunks/framework.D0TaUBpX.js">
    <link rel="modulepreload" href="/agentchat-docs/assets/部署指南_生产环境部署_反向代理配置.md.Cgp8jnV4.lean.js">
    <link rel="icon" href="/agentchat-docs/favicon.ico">
    <meta name="theme-color" content="#3c82f6">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="zh-CN">
    <meta property="og:title" content="AgentChat | 智能对话系统">
    <meta property="og:site_name" content="AgentChat">
    <meta property="og:image" content="/agentchat-docs/logo.png">
    <meta property="og:url" content="https://shy2593666979.github.io/agentchat-docs/">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/agentchat-docs/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/agentchat-docs/logo.png" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>AgentChat</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>快速入门</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>系统概述</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/agentchat-docs/%E6%8A%80%E6%9C%AF%E6%A0%88.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>技术栈</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>核心功能</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%A4%9AAgent%E7%B3%BB%E7%BB%9F.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>多Agent系统</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/MCP%E9%9B%86%E6%88%90.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>MCP集成</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%B3%BB%E7%BB%9F.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>知识库系统</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%B7%A5%E5%85%B7%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>工具生态系统</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>API文档</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/API%E5%8F%82%E8%80%83.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>API总览</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/Agent%20API.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Agent API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E5%AF%B9%E8%AF%9DAPI.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>对话 API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E7%9F%A5%E8%AF%86%E5%BA%93API.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>知识库 API</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>开发指南</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>环境搭建</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>编码规范</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7.html" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>调试技巧</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shy2593666979/AgentChat" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Shy2593666979/AgentChat" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>入门与概览</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>系统概述</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>快速入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%8A%80%E6%9C%AF%E6%A0%88.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>技术栈</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>核心功能模块</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>核心功能模块</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%A4%9AAgent%E7%B3%BB%E7%BB%9F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>多Agent系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/MCP%E9%9B%86%E6%88%90.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>MCP集成</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E5%B7%A5%E5%85%B7%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>工具生态系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97/%E7%9F%A5%E8%AF%86%E5%BA%93%E7%B3%BB%E7%BB%9F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>知识库系统</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>API 参考</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/API%E5%8F%82%E8%80%83.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>API总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/Agent%20API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Agent API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E5%AF%B9%E8%AF%9DAPI.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>对话 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E5%B7%A5%E5%85%B7API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>工具 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E7%94%A8%E6%88%B7API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>用户 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/%E7%9F%A5%E8%AF%86%E5%BA%93API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>知识库 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/API%E5%8F%82%E8%80%83/MCP%E6%9C%8D%E5%8A%A1API.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>MCP服务 API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>数据库设计</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>设计总览</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>关系型数据模型</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>模型总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>用户数据模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%99%BA%E8%83%BD%E4%BD%93%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>智能体数据模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E5%AF%B9%E8%AF%9D%E4%BC%9A%E8%AF%9D%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>对话会话模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E6%B6%88%E6%81%AF%E8%AE%B0%E5%BD%95%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>消息记录模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/%E7%9F%A5%E8%AF%86%E5%BA%93%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>知识库模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/MCP%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%9E%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>MCP服务配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>向量存储架构</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>架构总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%90%91%E9%87%8F%E5%8C%96/%E6%96%87%E6%A1%A3%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%90%91%E9%87%8F%E5%8C%96.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>文档解析与向量化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/%E5%90%91%E9%87%8F%E5%AD%98%E5%82%A8%E6%9E%B6%E6%9E%84/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>向量数据库集成</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>项目目录结构</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>结构总览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%89%8D%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%89%8D%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>前端目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%90%8E%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/%E5%90%8E%E7%AB%AF%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>后端目录</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>开发指南</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>开发指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>环境搭建</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>编码规范</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>调试技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97/%E6%B5%8B%E8%AF%95%E7%AD%96%E7%95%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>测试策略</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>部署指南</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>部署指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>开发环境部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>生产环境部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86/%E8%BF%90%E7%BB%B4%E7%AE%A1%E7%90%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>运维管理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>安全考虑</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>安全概述</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>API安全</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/API%E5%AE%89%E5%85%A8/API%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>API安全概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/API%E5%AE%89%E5%85%A8/%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81%E4%B8%8E%E9%98%B2%E6%B3%A8%E5%85%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>输入验证与防注入</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/API%E5%AE%89%E5%85%A8/%E6%B2%99%E7%AE%B1%E6%89%A7%E8%A1%8C%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>沙箱执行安全</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>数据安全</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>数据安全概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>传输安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8/%E5%AF%86%E7%A0%81%E5%93%88%E5%B8%8C%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>密码哈希与加密</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>认证与授权</h3><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>认证与授权概览</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/%E4%BB%A4%E7%89%8C%E7%94%9F%E6%88%90%E4%B8%8E%E9%AA%8C%E8%AF%81/%E4%BB%A4%E7%89%8C%E7%94%9F%E6%88%90%E4%B8%8E%E9%AA%8C%E8%AF%81.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>令牌生成与验证</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/agentchat-docs/%E5%AE%89%E5%85%A8%E8%80%83%E8%99%91/%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83/%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5/%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>安全策略</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _agentchat-docs_%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97_%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2_%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE" data-v-e6f2a212><div><h1 id="nginx反向代理配置深度解析" tabindex="-1">Nginx反向代理配置深度解析 <a class="header-anchor" href="#nginx反向代理配置深度解析" aria-label="Permalink to &quot;Nginx反向代理配置深度解析&quot;">​</a></h1><cite> **本文档引用的文件** - [nginx.conf](https://github.com/Shy2593666979/AgentChat/docker/nginx.conf) - [docker-compose.prod.yml](https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml) - [Dockerfile.frontend.prod](https://github.com/Shy2593666979/AgentChat/docker/Dockerfile.frontend.prod) - [Dockerfile](https://github.com/Shy2593666979/AgentChat/docker/Dockerfile) - [vite.config.ts](https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts) - [main.py](https://github.com/Shy2593666979/AgentChat/src/backend/agentchat/main.py) - [start.sh](https://github.com/Shy2593666979/AgentChat/docker/start.sh) </cite><h2 id="目录" tabindex="-1">目录 <a class="header-anchor" href="#目录" aria-label="Permalink to &quot;目录&quot;">​</a></h2><ol><li><a href="#项目概述">项目概述</a></li><li><a href="#nginx配置架构">Nginx配置架构</a></li><li><a href="#反向代理规则详解">反向代理规则详解</a></li><li><a href="#静态资源缓存策略">静态资源缓存策略</a></li><li><a href="#gzip压缩配置">Gzip压缩配置</a></li><li><a href="#日志管理">日志管理</a></li><li><a href="#安全配置">安全配置</a></li><li><a href="#健康检查机制">健康检查机制</a></li><li><a href="#负载均衡配置">负载均衡配置</a></li><li><a href="#性能优化">性能优化</a></li><li><a href="#故障排除指南">故障排除指南</a></li></ol><h2 id="项目概述" tabindex="-1">项目概述 <a class="header-anchor" href="#项目概述" aria-label="Permalink to &quot;项目概述&quot;">​</a></h2><p>AgentChat项目采用前后端分离架构，前端基于Vue 3框架开发，后端使用FastAPI构建RESTful API服务。Nginx作为反向代理服务器，在生产环境中扮演着关键角色，负责处理静态资源服务、API请求转发、负载均衡和性能优化。</p><h3 id="技术栈概览" tabindex="-1">技术栈概览 <a class="header-anchor" href="#技术栈概览" aria-label="Permalink to &quot;技术栈概览&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;客户端层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Browser[浏览器]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MobileApp[移动端应用]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;Nginx反向代理层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx[Nginx服务器&lt;br/&gt;端口: 8090]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticFiles[静态资源&lt;br/&gt;缓存策略]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ProxyPass[反向代理&lt;br/&gt;请求转发]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;后端服务层&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Frontend[Vue前端&lt;br/&gt;端口: 8090]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend[FastAPI后端&lt;br/&gt;端口: 7860]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MySQL[(MySQL数据库)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Redis[(Redis缓存)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Browser --&gt; Nginx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MobileApp --&gt; Nginx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx --&gt; StaticFiles</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx --&gt; ProxyPass</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ProxyPass --&gt; Frontend</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ProxyPass --&gt; Backend</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend --&gt; MySQL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend --&gt; Redis</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L66-L101" target="_blank" rel="noreferrer">nginx.conf</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml#L1-L52" target="_blank" rel="noreferrer">docker-compose.prod.yml</a></li></ul><h2 id="nginx配置架构" tabindex="-1">Nginx配置架构 <a class="header-anchor" href="#nginx配置架构" aria-label="Permalink to &quot;Nginx配置架构&quot;">​</a></h2><h3 id="核心配置结构" tabindex="-1">核心配置结构 <a class="header-anchor" href="#核心配置结构" aria-label="Permalink to &quot;核心配置结构&quot;">​</a></h3><p>Nginx配置采用模块化设计，主要包含以下核心组件：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;Nginx配置层次&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Global[全局配置&lt;br/&gt;user, worker_processes]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Events[事件配置&lt;br/&gt;worker_connections]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HTTP[HTTP配置&lt;br/&gt;mime.types, log_format]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Server[虚拟主机&lt;br/&gt;server_name, listen]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Global --&gt; Events</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Events --&gt; HTTP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HTTP --&gt; Server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L1-L12" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="配置文件组织" tabindex="-1">配置文件组织 <a class="header-anchor" href="#配置文件组织" aria-label="Permalink to &quot;配置文件组织&quot;">​</a></h3><table tabindex="0"><thead><tr><th>配置块</th><th>功能描述</th><th>主要参数</th></tr></thead><tbody><tr><td><code>user</code></td><td>运行用户权限</td><td><code>nginx</code></td></tr><tr><td><code>worker_processes</code></td><td>工作进程数</td><td><code>auto</code></td></tr><tr><td><code>events</code></td><td>事件处理配置</td><td><code>worker_connections</code>, <code>epoll</code>, <code>multi_accept</code></td></tr><tr><td><code>http</code></td><td>HTTP协议配置</td><td><code>mime.types</code>, <code>log_format</code>, <code>gzip</code></td></tr><tr><td><code>server</code></td><td>虚拟主机配置</td><td><code>listen</code>, <code>server_name</code>, <code>root</code></td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L1-L101" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="反向代理规则详解" tabindex="-1">反向代理规则详解 <a class="header-anchor" href="#反向代理规则详解" aria-label="Permalink to &quot;反向代理规则详解&quot;">​</a></h2><h3 id="前端请求路由配置" tabindex="-1">前端请求路由配置 <a class="header-anchor" href="#前端请求路由配置" aria-label="Permalink to &quot;前端请求路由配置&quot;">​</a></h3><p>Nginx作为前端静态资源服务器，通过location指令实现智能路由：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Request[客户端请求] --&gt; LocationMatch{匹配location规则}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocationMatch --&gt; |根路径| TryFiles[try_files指令]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TryFiles --&gt; FileExists{文件存在?}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FileExists --&gt; |是| ServeFile[返回静态文件]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FileExists --&gt; |否| IndexHTML[返回index.html]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocationMatch --&gt; |静态资源| StaticLocation[静态资源location]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticLocation --&gt; CacheHeader[设置缓存头]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocationMatch --&gt; |HTML文件| HTMLLocation[HTML文件location]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HTMLLocation --&gt; NoCache[禁用缓存]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocationMatch --&gt; |隐藏文件| DenyAccess[拒绝访问]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocationMatch --&gt; |健康检查| HealthCheck[健康检查响应]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L72-L99" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="api请求转发配置" tabindex="-1">API请求转发配置 <a class="header-anchor" href="#api请求转发配置" aria-label="Permalink to &quot;API请求转发配置&quot;">​</a></h3><p>虽然当前配置中没有显式的API代理规则，但通过Vite开发服务器的代理配置实现了类似功能：</p><table tabindex="0"><thead><tr><th>请求路径</th><th>目标地址</th><th>功能描述</th></tr></thead><tbody><tr><td><code>/api/*</code></td><td><code>http://localhost:7860/</code></td><td>API请求转发</td></tr><tr><td><code>changeOrigin</code></td><td><code>true</code></td><td>修改请求源</td></tr><tr><td><code>target</code></td><td><code>http://localhost:7860/</code></td><td>后端服务地址</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/src/frontend/vite.config.ts#L14-L18" target="_blank" rel="noreferrer">vite.config.ts</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L72-L99" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="静态资源处理流程" tabindex="-1">静态资源处理流程 <a class="header-anchor" href="#静态资源处理流程" aria-label="Permalink to &quot;静态资源处理流程&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Client as 客户端</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Nginx as Nginx服务器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant FileSystem as 文件系统</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Client-&gt;&gt;Nginx : 请求静态资源</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;Nginx : 匹配location规则</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;FileSystem : 检查文件是否存在</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">alt 文件存在</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FileSystem--&gt;&gt;Nginx : 返回文件内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx--&gt;&gt;Client : 返回静态资源</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">else 文件不存在</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;Nginx : 尝试index.html</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx--&gt;&gt;Client : 返回单页应用入口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L73-L74" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="静态资源缓存策略" tabindex="-1">静态资源缓存策略 <a class="header-anchor" href="#静态资源缓存策略" aria-label="Permalink to &quot;静态资源缓存策略&quot;">​</a></h2><h3 id="缓存策略分类" tabindex="-1">缓存策略分类 <a class="header-anchor" href="#缓存策略分类" aria-label="Permalink to &quot;缓存策略分类&quot;">​</a></h3><p>Nginx针对不同类型的静态资源实施差异化缓存策略：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;缓存策略分类&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticAssets[静态资源缓存&lt;br/&gt;expires 1y]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HTMLCache[HTML文件缓存&lt;br/&gt;expires -1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SecurityRules[安全规则&lt;br/&gt;deny all]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;支持的文件类型&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JS[JavaScript文件&lt;br/&gt;.js]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CSS[Cascading Style Sheets&lt;br/&gt;.css]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Images[图像文件&lt;br/&gt;.png, .jpg, .jpeg, .gif, .ico, .svg]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Fonts[字体文件&lt;br/&gt;.eot, .otf, .ttf]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticAssets --&gt; JS</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticAssets --&gt; CSS</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticAssets --&gt; Images</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StaticAssets --&gt; Fonts</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L76-L86" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="缓存配置详解" tabindex="-1">缓存配置详解 <a class="header-anchor" href="#缓存配置详解" aria-label="Permalink to &quot;缓存配置详解&quot;">​</a></h3><table tabindex="0"><thead><tr><th>文件类型</th><th>缓存策略</th><th>缓存头设置</th><th>适用场景</th></tr></thead><tbody><tr><td><code>.js</code>, <code>.css</code></td><td>长期缓存</td><td><code>expires 1y</code>, <code>Cache-Control: public, immutable</code></td><td>JavaScript和样式表文件</td></tr><tr><td><code>.html</code></td><td>不缓存</td><td><code>expires -1</code>, <code>Cache-Control: no-cache, no-store, must-revalidate</code></td><td>HTML文件</td></tr><tr><td>图像文件</td><td>长期缓存</td><td><code>expires 1y</code>, <code>Cache-Control: public, immutable</code></td><td>图片资源</td></tr><tr><td>字体文件</td><td>长期缓存</td><td><code>expires 1y</code>, <code>Cache-Control: public, immutable</code></td><td>Web字体文件</td></tr></tbody></table><h3 id="内容哈希与缓存失效" tabindex="-1">内容哈希与缓存失效 <a class="header-anchor" href="#内容哈希与缓存失效" aria-label="Permalink to &quot;内容哈希与缓存失效&quot;">​</a></h3><p>虽然配置中没有直接体现，但现代前端构建工具通常会为静态资源添加内容哈希，实现以下效果：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Build[构建过程] --&gt; Hash[计算文件哈希]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Hash --&gt; Rename[重命名文件&lt;br/&gt;app.abc123.js]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Rename --&gt; Deploy[部署到服务器]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Deploy --&gt; Cache[浏览器缓存]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cache --&gt; Update[新版本发布]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Update --&gt; NewHash[新哈希值]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NewHash --&gt; NewFile[new/app.def456.js]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NewFile --&gt; Fresh[强制刷新缓存]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L76-L86" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="gzip压缩配置" tabindex="-1">Gzip压缩配置 <a class="header-anchor" href="#gzip压缩配置" aria-label="Permalink to &quot;Gzip压缩配置&quot;">​</a></h2><h3 id="压缩算法与级别" tabindex="-1">压缩算法与级别 <a class="header-anchor" href="#压缩算法与级别" aria-label="Permalink to &quot;压缩算法与级别&quot;">​</a></h3><p>Nginx启用了Gzip压缩以减少传输体积，提高网络传输效率：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;Gzip配置参数&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EnableGzip[gzip on]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VaryHeader[gzip_vary on]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MinLength[gzip_min_length 1000]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CompLevel[gzip_comp_level 6]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied[gzip_proxied any]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;支持的MIME类型&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JS_MIME[application/javascript]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CSS_MIME[text/css]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JSON_MIME[application/json]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">XML_MIME[application/xml]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Font_MIME[font/ttf, font/otf]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Image_MIME[image/svg+xml]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EnableGzip --&gt; VaryHeader</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VaryHeader --&gt; MinLength</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MinLength --&gt; CompLevel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CompLevel --&gt; Proxied</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied --&gt; JS_MIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied --&gt; CSS_MIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied --&gt; JSON_MIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied --&gt; XML_MIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied --&gt; Font_MIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Proxied --&gt; Image_MIME</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L33-L58" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="压缩配置参数说明" tabindex="-1">压缩配置参数说明 <a class="header-anchor" href="#压缩配置参数说明" aria-label="Permalink to &quot;压缩配置参数说明&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>值</th><th>说明</th></tr></thead><tbody><tr><td><code>gzip</code></td><td><code>on</code></td><td>启用Gzip压缩</td></tr><tr><td><code>gzip_vary</code></td><td><code>on</code></td><td>添加Vary头，支持缓存</td></tr><tr><td><code>gzip_min_length</code></td><td><code>1000</code></td><td>最小压缩文件大小(字节)</td></tr><tr><td><code>gzip_comp_level</code></td><td><code>6</code></td><td>压缩级别(1-9，平衡速度和压缩率)</td></tr><tr><td><code>gzip_proxied</code></td><td><code>any</code></td><td>对所有代理请求启用压缩</td></tr></tbody></table><h3 id="支持的压缩类型" tabindex="-1">支持的压缩类型 <a class="header-anchor" href="#支持的压缩类型" aria-label="Permalink to &quot;支持的压缩类型&quot;">​</a></h3><p>Nginx对以下MIME类型启用Gzip压缩：</p><ul><li>应用程序类型：<code>application/javascript</code>, <code>application/json</code>, <code>application/xml</code>, <code>application/manifest+json</code></li><li>文本类型：<code>text/css</code>, <code>text/javascript</code>, <code>text/plain</code>, <code>text/xml</code></li><li>字体类型：<code>font/eot</code>, <code>font/otf</code>, <code>font/ttf</code></li><li>图像类型：<code>image/svg+xml</code></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L33-L58" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="日志管理" tabindex="-1">日志管理 <a class="header-anchor" href="#日志管理" aria-label="Permalink to &quot;日志管理&quot;">​</a></h2><h3 id="日志格式配置" tabindex="-1">日志格式配置 <a class="header-anchor" href="#日志格式配置" aria-label="Permalink to &quot;日志格式配置&quot;">​</a></h3><p>Nginx定义了详细的日志格式，便于监控和分析：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;日志字段&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RemoteAddr[远程地址&lt;br/&gt;$remote_addr]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User[用户标识&lt;br/&gt;$remote_user]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Time[时间戳&lt;br/&gt;[$time_local]]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Request[请求信息&lt;br/&gt;&quot;$request&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Status[状态码&lt;br/&gt;$status]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BytesSent[发送字节数&lt;br/&gt;$body_bytes_sent]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Referer[引用页面&lt;br/&gt;&quot;$http_referer&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserAgent[用户代理&lt;br/&gt;&quot;$http_user_agent&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ForwardedFor[X-Forwarded-For&lt;br/&gt;&quot;$http_x_forwarded_for&quot;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;日志文件&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">AccessLog[访问日志&lt;br/&gt;/var/log/nginx/access.log]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ErrorLog[错误日志&lt;br/&gt;/var/log/nginx/error.log]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RemoteAddr --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Time --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Request --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Status --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BytesSent --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Referer --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserAgent --&gt; AccessLog</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ForwardedFor --&gt; AccessLog</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L18-L23" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="日志配置参数" tabindex="-1">日志配置参数 <a class="header-anchor" href="#日志配置参数" aria-label="Permalink to &quot;日志配置参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>配置项</th><th>路径</th><th>说明</th></tr></thead><tbody><tr><td><code>log_format</code></td><td><code>main</code></td><td>自定义日志格式名称</td></tr><tr><td><code>access_log</code></td><td><code>/var/log/nginx/access.log</code></td><td>访问日志文件路径</td></tr><tr><td><code>error_log</code></td><td><code>/var/log/nginx/error.log</code></td><td>错误日志文件路径</td></tr><tr><td><code>level</code></td><td><code>notice</code></td><td>错误日志级别</td></tr></tbody></table><h3 id="日志轮转策略" tabindex="-1">日志轮转策略 <a class="header-anchor" href="#日志轮转策略" aria-label="Permalink to &quot;日志轮转策略&quot;">​</a></h3><p>建议实施以下日志轮转策略：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LogRotate[日志轮转] --&gt; Daily[每日轮转]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Daily --&gt; Compress[压缩旧日志]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Compress --&gt; Archive[归档存储]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Archive --&gt; Retention[保留期限&lt;br/&gt;30天]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LogRotate --&gt; SizeLimit[大小限制&lt;br/&gt;100MB]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SizeLimit --&gt; Split[分割文件]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Split --&gt; Compress</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L18-L24" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="安全配置" tabindex="-1">安全配置 <a class="header-anchor" href="#安全配置" aria-label="Permalink to &quot;安全配置&quot;">​</a></h2><h3 id="安全头部设置" tabindex="-1">安全头部设置 <a class="header-anchor" href="#安全头部设置" aria-label="Permalink to &quot;安全头部设置&quot;">​</a></h3><p>Nginx配置了多项安全头部，增强Web应用安全性：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;安全配置&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ServerTokens[server_tokens off&lt;br/&gt;隐藏服务器版本信息]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FrameOptions[X-Frame-Options DENY&lt;br/&gt;防止点击劫持]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ContentType[X-Content-Type-Options nosniff&lt;br/&gt;防止MIME类型嗅探]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">XSSProtection[X-XSS-Protection &quot;1; mode=block&quot;&lt;br/&gt;启用XSS保护]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;安全效果&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ClickJacking[防止点击劫持攻击]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MIMEAttack[防止MIME类型攻击]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">XSSAttack[防止跨站脚本攻击]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InfoLeak[防止信息泄露]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ServerTokens --&gt; InfoLeak</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FrameOptions --&gt; ClickJacking</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ContentType --&gt; MIMEAttack</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">XSSProtection --&gt; XSSAttack</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L60-L65" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="安全配置参数" tabindex="-1">安全配置参数 <a class="header-anchor" href="#安全配置参数" aria-label="Permalink to &quot;安全配置参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>安全头部</th><th>值</th><th>安全作用</th></tr></thead><tbody><tr><td><code>server_tokens</code></td><td><code>off</code></td><td>隐藏Nginx版本信息</td></tr><tr><td><code>X-Frame-Options</code></td><td><code>DENY</code></td><td>防止页面被嵌入iframe</td></tr><tr><td><code>X-Content-Type-Options</code></td><td><code>nosniff</code></td><td>防止MIME类型嗅探</td></tr><tr><td><code>X-XSS-Protection</code></td><td><code>1; mode=block</code></td><td>启用XSS过滤器</td></tr></tbody></table><h3 id="隐藏文件保护" tabindex="-1">隐藏文件保护 <a class="header-anchor" href="#隐藏文件保护" aria-label="Permalink to &quot;隐藏文件保护&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Request[客户端请求] --&gt; HiddenCheck{隐藏文件检测}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HiddenCheck --&gt; |匹配~/.| Deny[拒绝访问&lt;br/&gt;deny all]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HiddenCheck --&gt; |不匹配| Allow[允许访问]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Deny --&gt; Forbidden[403 Forbidden]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L90-L92" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L60-L65" target="_blank" rel="noreferrer">nginx.conf</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L90-L92" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="健康检查机制" tabindex="-1">健康检查机制 <a class="header-anchor" href="#健康检查机制" aria-label="Permalink to &quot;健康检查机制&quot;">​</a></h2><h3 id="健康检查配置" tabindex="-1">健康检查配置 <a class="header-anchor" href="#健康检查配置" aria-label="Permalink to &quot;健康检查配置&quot;">​</a></h3><p>Nginx提供了简单的健康检查端点，用于服务监控：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Monitor as 监控系统</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Nginx as Nginx服务器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Service as 后端服务</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Monitor-&gt;&gt;Nginx : GET /health</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;Nginx : 检查access_log配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;Service : 转发健康检查请求</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Service--&gt;&gt;Nginx : 健康状态响应</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx--&gt;&gt;Monitor : 200 OK + &quot;healthy&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Note over Monitor,Service : 健康检查不记录日志</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L94-L99" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="健康检查特性" tabindex="-1">健康检查特性 <a class="header-anchor" href="#健康检查特性" aria-label="Permalink to &quot;健康检查特性&quot;">​</a></h3><table tabindex="0"><thead><tr><th>特性</th><th>配置</th><th>说明</th></tr></thead><tbody><tr><td>端点路径</td><td><code>/health</code></td><td>健康检查接口</td></tr><tr><td>响应状态</td><td><code>200</code></td><td>成功响应状态码</td></tr><tr><td>响应内容</td><td><code>&quot;healthy\n&quot;</code></td><td>简洁的健康状态</td></tr><tr><td>日志记录</td><td><code>off</code></td><td>不记录访问日志</td></tr><tr><td>内容类型</td><td><code>text/plain</code></td><td>明确的响应类型</td></tr></tbody></table><h3 id="docker-compose健康检查集成" tabindex="-1">Docker Compose健康检查集成 <a class="header-anchor" href="#docker-compose健康检查集成" aria-label="Permalink to &quot;Docker Compose健康检查集成&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;Docker Compose健康检查&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BackendHealth[后端服务健康检查&lt;br/&gt;curl -f http://localhost:7860/health]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FrontendHealth[前端服务健康检查&lt;br/&gt;curl -f http://localhost:8090]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MySQLHealth[MySQL健康检查&lt;br/&gt;mysqld --version]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RedisHealth[Redis健康检查&lt;br/&gt;redis-cli ping]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;检查参数&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Interval[检查间隔&lt;br/&gt;60s]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Timeout[超时时间&lt;br/&gt;30s]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Retries[重试次数&lt;br/&gt;3次]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">StartPeriod[启动期&lt;br/&gt;40s/30s]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BackendHealth --&gt; Interval</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FrontendHealth --&gt; Interval</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MySQLHealth --&gt; Interval</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RedisHealth --&gt; Interval</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml#L14-L20" target="_blank" rel="noreferrer">docker-compose.prod.yml</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml#L29-L34" target="_blank" rel="noreferrer">docker-compose.prod.yml</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L94-L99" target="_blank" rel="noreferrer">nginx.conf</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml#L14-L34" target="_blank" rel="noreferrer">docker-compose.prod.yml</a></li></ul><h2 id="负载均衡配置" tabindex="-1">负载均衡配置 <a class="header-anchor" href="#负载均衡配置" aria-label="Permalink to &quot;负载均衡配置&quot;">​</a></h2><h3 id="当前配置分析" tabindex="-1">当前配置分析 <a class="header-anchor" href="#当前配置分析" aria-label="Permalink to &quot;当前配置分析&quot;">​</a></h3><p>当前的Nginx配置主要服务于单一前端服务，但在Docker Compose中已经为多个服务配置了健康检查，为未来的负载均衡扩展奠定了基础：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;现有服务架构&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NginxProxy[Nginx反向代理&lt;br/&gt;端口: 8090]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Frontend[Vue前端服务&lt;br/&gt;端口: 8090]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend[FastAPI后端服务&lt;br/&gt;端口: 7860]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MySQL[(MySQL数据库)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Redis[(Redis缓存)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;负载均衡准备&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MultiInstance[多实例部署]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HealthCheck[健康检查机制]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LoadBalance[负载均衡策略]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NginxProxy --&gt; Frontend</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NginxProxy --&gt; Backend</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Frontend --&gt; Backend</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend --&gt; MySQL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend --&gt; Redis</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MultiInstance --&gt; LoadBalance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HealthCheck --&gt; LoadBalance</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml#L1-L52" target="_blank" rel="noreferrer">docker-compose.prod.yml</a></li></ul><h3 id="负载均衡配置示例" tabindex="-1">负载均衡配置示例 <a class="header-anchor" href="#负载均衡配置示例" aria-label="Permalink to &quot;负载均衡配置示例&quot;">​</a></h3><p>以下是未来可能的负载均衡配置示例：</p><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">upstream</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> backend_servers </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    least_conn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> backend1:7860 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max_fails=3 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fail_timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    server backend2:7860 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max_fails=3 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fail_timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    server backend3:7860 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">weight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> max_fails=3 </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fail_timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8090</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localhost;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /api/ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http://backend_servers/;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Host $host;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Real-IP $remote_addr;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">X-Forwarded-Proto $scheme;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_connect_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_send_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        proxy_read_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="负载均衡策略" tabindex="-1">负载均衡策略 <a class="header-anchor" href="#负载均衡策略" aria-label="Permalink to &quot;负载均衡策略&quot;">​</a></h3><table tabindex="0"><thead><tr><th>策略</th><th>描述</th><th>适用场景</th></tr></thead><tbody><tr><td><code>round_robin</code></td><td>轮询分配请求</td><td>默认策略，适用于大多数场景</td></tr><tr><td><code>least_conn</code></td><td>最少连接数</td><td>适用于长连接场景</td></tr><tr><td><code>ip_hash</code></td><td>基于IP的哈希</td><td>保持会话一致性</td></tr><tr><td><code>weight</code></td><td>权重分配</td><td>不同性能的服务器</td></tr></tbody></table><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/docker-compose.prod.yml#L1-L52" target="_blank" rel="noreferrer">docker-compose.prod.yml</a></li></ul><h2 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to &quot;性能优化&quot;">​</a></h2><h3 id="核心性能参数" tabindex="-1">核心性能参数 <a class="header-anchor" href="#核心性能参数" aria-label="Permalink to &quot;核心性能参数&quot;">​</a></h3><p>Nginx配置了多项性能优化参数，确保高并发场景下的稳定运行：</p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;性能优化配置&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sendfile[sendfile on&lt;br/&gt;零拷贝优化]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TCPNopush[tcp_nopush on&lt;br/&gt;TCP推送优化]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TCPNodelay[tcp_nodelay on&lt;br/&gt;TCP延迟优化]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KeepAlive[keepalive_timeout 65&lt;br/&gt;连接保持时间]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MaxSize[types_hash_max_size 2048&lt;br/&gt;MIME类型哈希大小]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BodySize[client_max_body_size 100M&lt;br/&gt;最大请求体大小]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;性能提升效果&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IOOptimization[I/O优化&lt;br/&gt;减少系统调用]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NetworkEfficiency[网络效率&lt;br/&gt;减少数据包]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ConnectionReuse[连接复用&lt;br/&gt;降低握手开销]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MemoryManagement[内存管理&lt;br/&gt;合理缓存大小]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sendfile --&gt; IOOptimization</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TCPNopush --&gt; NetworkEfficiency</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TCPNodelay --&gt; NetworkEfficiency</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KeepAlive --&gt; ConnectionReuse</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MaxSize --&gt; MemoryManagement</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BodySize --&gt; MemoryManagement</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L25-L31" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h3 id="性能参数详解" tabindex="-1">性能参数详解 <a class="header-anchor" href="#性能参数详解" aria-label="Permalink to &quot;性能参数详解&quot;">​</a></h3><table tabindex="0"><thead><tr><th>参数</th><th>值</th><th>性能影响</th></tr></thead><tbody><tr><td><code>sendfile</code></td><td><code>on</code></td><td>启用零拷贝，提高文件传输效率</td></tr><tr><td><code>tcp_nopush</code></td><td><code>on</code></td><td>合并小包，减少网络开销</td></tr><tr><td><code>tcp_nodelay</code></td><td><code>on</code></td><td>禁用Nagle算法，降低延迟</td></tr><tr><td><code>keepalive_timeout</code></td><td><code>65</code></td><td>连接保持时间(秒)</td></tr><tr><td><code>types_hash_max_size</code></td><td><code>2048</code></td><td>MIME类型哈希表大小</td></tr><tr><td><code>client_max_body_size</code></td><td><code>100M</code></td><td>允许的最大请求体大小</td></tr></tbody></table><h3 id="并发连接配置" tabindex="-1">并发连接配置 <a class="header-anchor" href="#并发连接配置" aria-label="Permalink to &quot;并发连接配置&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WorkerProcesses[工作进程数&lt;br/&gt;auto] --&gt; WorkerConnections[每个进程连接数&lt;br/&gt;1024]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WorkerConnections --&gt; EventModel[事件模型&lt;br/&gt;epoll]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EventModel --&gt; MultiAccept[多接受模式&lt;br/&gt;multi_accept on]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;性能指标&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MaxConn[最大并发连接&lt;br/&gt;auto * 1024]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EventHandling[事件处理效率&lt;br/&gt;异步非阻塞]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ResourceUtilization[资源利用率&lt;br/&gt;CPU/内存优化]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">WorkerProcesses --&gt; MaxConn</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EventModel --&gt; EventHandling</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MultiAccept --&gt; ResourceUtilization</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>图表来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L8-L12" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L25-L31" target="_blank" rel="noreferrer">nginx.conf</a></li><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L8-L12" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="故障排除指南" tabindex="-1">故障排除指南 <a class="header-anchor" href="#故障排除指南" aria-label="Permalink to &quot;故障排除指南&quot;">​</a></h2><h3 id="常见问题诊断" tabindex="-1">常见问题诊断 <a class="header-anchor" href="#常见问题诊断" aria-label="Permalink to &quot;常见问题诊断&quot;">​</a></h3><h4 id="_1-静态资源无法加载" tabindex="-1">1. 静态资源无法加载 <a class="header-anchor" href="#_1-静态资源无法加载" aria-label="Permalink to &quot;1. 静态资源无法加载&quot;">​</a></h4><p><strong>症状表现：</strong></p><ul><li>页面显示空白或404错误</li><li>控制台出现资源加载失败警告</li></ul><p><strong>诊断步骤：</strong></p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Problem[静态资源问题] --&gt; CheckPath{检查文件路径}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckPath --&gt; |路径正确| CheckPermission{检查文件权限}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckPermission --&gt; |权限正确| CheckNginx{检查Nginx配置}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckNginx --&gt; |配置正确| CheckLogs{检查错误日志}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckLogs --&gt; |无错误| CheckBrowser{检查浏览器控制台}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckPath --&gt; |路径错误| FixPath[修正文件路径]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckPermission --&gt; |权限不足| FixPermission[修改文件权限]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckNginx --&gt; |配置错误| FixConfig[修正Nginx配置]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckLogs --&gt; |有错误| AnalyzeLogs[分析日志内容]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CheckBrowser --&gt; ClearCache[清除浏览器缓存]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>解决方案：</strong></p><ul><li>验证静态资源文件是否存在于正确路径</li><li>检查Nginx配置中的<code>root</code>和<code>location</code>指令</li><li>确认文件权限设置正确</li><li>清除浏览器缓存</li></ul><h4 id="_2-api请求转发失败" tabindex="-1">2. API请求转发失败 <a class="header-anchor" href="#_2-api请求转发失败" aria-label="Permalink to &quot;2. API请求转发失败&quot;">​</a></h4><p><strong>症状表现：</strong></p><ul><li>前端API请求返回404或502错误</li><li>控制台显示跨域错误</li></ul><p><strong>诊断流程：</strong></p><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Browser as 浏览器</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Nginx as Nginx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">participant Backend as 后端服务</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Browser-&gt;&gt;Nginx : API请求(/api/*)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;Nginx : 检查代理配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">alt 代理配置正确</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx-&gt;&gt;Backend : 转发请求</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Backend--&gt;&gt;Nginx : 响应数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx--&gt;&gt;Browser : 返回响应</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">else 代理配置错误</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Nginx--&gt;&gt;Browser : 502 Bad Gateway</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>排查要点：</strong></p><ul><li>检查后端服务是否正常运行</li><li>验证代理目标地址配置</li><li>确认防火墙和网络连接</li><li>查看Nginx错误日志</li></ul><h4 id="_3-缓存问题" tabindex="-1">3. 缓存问题 <a class="header-anchor" href="#_3-缓存问题" aria-label="Permalink to &quot;3. 缓存问题&quot;">​</a></h4><p><strong>症状表现：</strong></p><ul><li>更新后的资源仍显示旧版本</li><li>页面布局错乱或功能异常</li></ul><p><strong>解决策略：</strong></p><ul><li>强制刷新浏览器缓存(Ctrl+F5)</li><li>检查缓存头设置是否正确</li><li>验证文件名是否包含哈希值</li><li>清理CDN缓存(如果使用)</li></ul><h3 id="监控指标" tabindex="-1">监控指标 <a class="header-anchor" href="#监控指标" aria-label="Permalink to &quot;监控指标&quot;">​</a></h3><p>建议监控以下关键指标：</p><table tabindex="0"><thead><tr><th>指标类别</th><th>关键指标</th><th>监控方法</th></tr></thead><tbody><tr><td>性能指标</td><td>响应时间、吞吐量</td><td>Nginx访问日志分析</td></tr><tr><td>资源指标</td><td>CPU使用率、内存占用</td><td>系统监控工具</td></tr><tr><td>错误指标</td><td>4xx/5xx错误率</td><td>错误日志统计</td></tr><tr><td>连接指标</td><td>并发连接数、连接池状态</td><td>Nginx状态模块</td></tr></tbody></table><h3 id="日志分析技巧" tabindex="-1">日志分析技巧 <a class="header-anchor" href="#日志分析技巧" aria-label="Permalink to &quot;日志分析技巧&quot;">​</a></h3><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Logs[日志文件] --&gt; Parse[日志解析]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Parse --&gt; Filter[过滤分析]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Filter --&gt; Statistics[统计分析]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Statistics --&gt; Alert[异常告警]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subgraph &quot;分析维度&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Time[时间趋势]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ErrorType[错误类型]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IP[访问来源]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">URL[请求路径]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Filter --&gt; Time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Filter --&gt; ErrorType</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Filter --&gt; IP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Filter --&gt; URL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>章节来源</strong></p><ul><li><a href="https://github.com/Shy2593666979/AgentChat/docker/nginx.conf#L18-L24" target="_blank" rel="noreferrer">nginx.conf</a></li></ul><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>本文档详细解析了AgentChat项目中Nginx反向代理配置的各项功能和最佳实践。通过合理的配置，Nginx不仅能够高效地处理静态资源服务，还能实现智能的API请求转发、灵活的缓存策略、强大的安全防护和完善的日志管理。</p><h3 id="关键优势" tabindex="-1">关键优势 <a class="header-anchor" href="#关键优势" aria-label="Permalink to &quot;关键优势&quot;">​</a></h3><ol><li><strong>高性能架构</strong>：通过优化的事件模型和连接处理，支持高并发访问</li><li><strong>智能缓存策略</strong>：差异化缓存策略提升用户体验和性能</li><li><strong>完善的安全防护</strong>：多层次安全配置保障应用安全</li><li><strong>灵活的扩展性</strong>：为未来的负载均衡和集群部署做好准备</li><li><strong>全面的日志监控</strong>：详细的日志记录便于运维和故障排查</li></ol><h3 id="最佳实践建议" tabindex="-1">最佳实践建议 <a class="header-anchor" href="#最佳实践建议" aria-label="Permalink to &quot;最佳实践建议&quot;">​</a></h3><ul><li>定期审查和更新安全配置</li><li>实施适当的日志轮转和归档策略</li><li>监控关键性能指标，及时发现潜在问题</li><li>保持Nginx版本更新，获得最新功能和安全补丁</li><li>制定完善的备份和灾难恢复计划</li></ul><p>通过遵循这些配置原则和最佳实践，可以确保Nginx在生产环境中稳定、高效地运行，为用户提供优质的Web服务体验。</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Shy2593666979/AgentChat/edit/main/docs/部署指南/生产环境部署/反向代理配置.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> 在 GitHub 上编辑此页面<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>最后更新于: <time datetime="2025-11-27T11:56:00.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/agentchat-docs/%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>系统概述</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>基于 MIT 许可发布</p><p class="copyright" data-v-566314d4>Copyright © 2024 AgentChat</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api参考_agent api.md\":\"BoXC74Ii\",\"api参考_api参考.md\":\"DnWWcQcZ\",\"api参考_mcp服务api.md\":\"sVbv4wa1\",\"api参考_对话api.md\":\"dIFfUF2M\",\"api参考_工具api.md\":\"6BujpVFn\",\"api参考_用户api.md\":\"IdNF7w__\",\"api参考_知识库api.md\":\"DALXKeQi\",\"index.md\":\"3uOdMfln\",\"sidebar.md\":\"DI6-866b\",\"安全考虑_api安全_api安全.md\":\"DkRDtCmD\",\"安全考虑_api安全_沙箱执行安全.md\":\"BYmf-Z_N\",\"安全考虑_api安全_输入验证与防注入.md\":\"CGSHnz4l\",\"安全考虑_安全考虑.md\":\"HSGg-aRA\",\"安全考虑_数据安全_传输安全.md\":\"D0LS0Ohf\",\"安全考虑_数据安全_密码哈希与数据加密.md\":\"BLUaZYzY\",\"安全考虑_数据安全_数据安全.md\":\"_JJAIrcd\",\"安全考虑_认证与授权_令牌生成与验证_令牌刷新与失效.md\":\"D_V-2C-z\",\"安全考虑_认证与授权_令牌生成与验证_令牌生成与验证.md\":\"Bz2uqfb9\",\"安全考虑_认证与授权_令牌生成与验证_令牌生成机制.md\":\"DkOENN5e\",\"安全考虑_认证与授权_令牌生成与验证_令牌验证流程.md\":\"DGWMEFMj\",\"安全考虑_认证与授权_安全策略_csrf策略.md\":\"B6pNoB9v\",\"安全考虑_认证与授权_安全策略_传输安全.md\":\"BEkG2EG5\",\"安全考虑_认证与授权_安全策略_安全策略.md\":\"B8eDZJ9p\",\"安全考虑_认证与授权_安全策略_访问控制.md\":\"ssGVZKX-\",\"安全考虑_认证与授权_认证与授权.md\":\"Bd3JAd8h\",\"安全考虑_认证与授权_认证配置.md\":\"C-F0rXTe\",\"安全考虑_访问控制.md\":\"C_dv55HP\",\"开发指南_开发指南.md\":\"CvRSPA-7\",\"开发指南_测试策略.md\":\"B0O_Q_Gx\",\"开发指南_环境搭建.md\":\"BDD2tf8g\",\"开发指南_编码规范.md\":\"f72cRaUx\",\"开发指南_调试技巧.md\":\"JJKynXRc\",\"快速入门.md\":\"CgeucNZ9\",\"技术栈.md\":\"DPgHeCi2\",\"数据库设计_关系型数据模型_mcp服务配置模型.md\":\"DAeWi6Sg\",\"数据库设计_关系型数据模型_关系型数据模型.md\":\"ZptXzVel\",\"数据库设计_关系型数据模型_对话会话数据模型.md\":\"CLTpTTR6\",\"数据库设计_关系型数据模型_工作区会话模型.md\":\"WkWgLPW_\",\"数据库设计_关系型数据模型_工具定义数据模型.md\":\"BgNfqCHJ\",\"数据库设计_关系型数据模型_智能体数据模型.md\":\"CEegsGC5\",\"数据库设计_关系型数据模型_消息记录数据模型.md\":\"BpBgsMSt\",\"数据库设计_关系型数据模型_用户数据模型.md\":\"BkN8VbFv\",\"数据库设计_关系型数据模型_知识库数据模型.md\":\"BM2irBYa\",\"数据库设计_关系型数据模型_知识文件数据模型.md\":\"CcLxMpSs\",\"数据库设计_向量存储架构_elasticsearch配置.md\":\"FtV8fn3f\",\"数据库设计_向量存储架构_向量存储架构.md\":\"WhSvxXEQ\",\"数据库设计_向量存储架构_向量数据库集成_chromadb 集成.md\":\"BfmzJyLG\",\"数据库设计_向量存储架构_向量数据库集成_milvus 集成.md\":\"D_BTfWMC\",\"数据库设计_向量存储架构_向量数据库集成_向量数据库集成.md\":\"DF74Dc-B\",\"数据库设计_向量存储架构_文档解析与向量化_文本向量化.md\":\"D5QmipM2\",\"数据库设计_向量存储架构_文档解析与向量化_文档解析.md\":\"CyK8-giB\",\"数据库设计_向量存储架构_文档解析与向量化_文档解析与向量化.md\":\"NBbeTUM5\",\"数据库设计_数据库设计.md\":\"D-edM2aa\",\"核心功能模块_mcp集成.md\":\"DwKFlY08\",\"核心功能模块_多agent系统.md\":\"CQyDFxX3\",\"核心功能模块_工具生态系统.md\":\"mVwqOzcO\",\"核心功能模块_核心功能模块.md\":\"CySmXmx6\",\"核心功能模块_知识库系统.md\":\"BVe2UuQX\",\"系统概述.md\":\"DAp3idQj\",\"部署指南_开发环境部署.md\":\"CcgLztPH\",\"部署指南_生产环境部署_反向代理配置.md\":\"Cgp8jnV4\",\"部署指南_生产环境部署_安全加固.md\":\"JytOkqlf\",\"部署指南_生产环境部署_生产服务配置.md\":\"xvPDb8FT\",\"部署指南_生产环境部署_生产环境部署.md\":\"D1cjjTnX\",\"部署指南_运维管理_备份与恢复.md\":\"qlb3E_wW\",\"部署指南_运维管理_服务管理.md\":\"-HyYXvCr\",\"部署指南_运维管理_监控与维护.md\":\"Bzzvdtds\",\"部署指南_运维管理_运维管理.md\":\"zQJYuypq\",\"部署指南_部署指南.md\":\"BVU6oCyi\",\"项目目录结构_前端目录结构_api集成.md\":\"Chf_nqEa\",\"项目目录结构_前端目录结构_ui组件体系.md\":\"DwRLbXPZ\",\"项目目录结构_前端目录结构_前端目录结构.md\":\"ClRGFCbM\",\"项目目录结构_前端目录结构_状态管理.md\":\"EoAjtg8z\",\"项目目录结构_前端目录结构_路由与导航.md\":\"C0w_Gvuo\",\"项目目录结构_后端目录结构_api层.md\":\"zlba20i0\",\"项目目录结构_后端目录结构_后端目录结构.md\":\"CfeWlJMn\",\"项目目录结构_后端目录结构_数据层.md\":\"D_PBLUmd\",\"项目目录结构_后端目录结构_服务层_mcp服务.md\":\"E9og9Hp-\",\"项目目录结构_后端目录结构_服务层_rag服务.md\":\"Dy89AbiB\",\"项目目录结构_后端目录结构_服务层_服务层.md\":\"hyBqFjKr\",\"项目目录结构_后端目录结构_服务层_核心服务.md\":\"BYWADGcv\",\"项目目录结构_后端目录结构_服务层_记忆服务.md\":\"MRdvAQi6\",\"项目目录结构_后端目录结构_核心功能层_react智能体.md\":\"DIGhNzUS\",\"项目目录结构_后端目录结构_核心功能层_核心功能层.md\":\"CoMgyboI\",\"项目目录结构_后端目录结构_核心功能层_统一模型管理器.md\":\"CBaCMauk\",\"项目目录结构_后端目录结构_核心功能层_计划-执行智能体.md\":\"CWss6Gyu\",\"项目目录结构_项目目录结构.md\":\"BzZwFJgB\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"AgentChat\",\"description\":\"基于大语言模型的智能对话系统技术文档\",\"base\":\"/agentchat-docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"快速入门\",\"link\":\"/快速入门\"},{\"text\":\"系统概述\",\"link\":\"/系统概述\"},{\"text\":\"技术栈\",\"link\":\"/技术栈\"},{\"text\":\"核心功能\",\"items\":[{\"text\":\"多Agent系统\",\"link\":\"/核心功能模块/多Agent系统\"},{\"text\":\"MCP集成\",\"link\":\"/核心功能模块/MCP集成\"},{\"text\":\"知识库系统\",\"link\":\"/核心功能模块/知识库系统\"},{\"text\":\"工具生态系统\",\"link\":\"/核心功能模块/工具生态系统\"}]},{\"text\":\"API文档\",\"items\":[{\"text\":\"API总览\",\"link\":\"/API参考/API参考\"},{\"text\":\"Agent API\",\"link\":\"/API参考/Agent API\"},{\"text\":\"对话 API\",\"link\":\"/API参考/对话API\"},{\"text\":\"知识库 API\",\"link\":\"/API参考/知识库API\"}]},{\"text\":\"开发指南\",\"items\":[{\"text\":\"环境搭建\",\"link\":\"/开发指南/环境搭建\"},{\"text\":\"编码规范\",\"link\":\"/开发指南/编码规范\"},{\"text\":\"调试技巧\",\"link\":\"/开发指南/调试技巧\"}]}],\"sidebar\":{\"/\":[{\"text\":\"入门与概览\",\"collapsed\":false,\"items\":[{\"text\":\"系统概述\",\"link\":\"/系统概述\"},{\"text\":\"快速入门\",\"link\":\"/快速入门\"},{\"text\":\"技术栈\",\"link\":\"/技术栈\"}]},{\"text\":\"核心功能模块\",\"collapsed\":false,\"items\":[{\"text\":\"核心功能模块\",\"link\":\"/核心功能模块/核心功能模块\"},{\"text\":\"多Agent系统\",\"link\":\"/核心功能模块/多Agent系统\"},{\"text\":\"MCP集成\",\"link\":\"/核心功能模块/MCP集成\"},{\"text\":\"工具生态系统\",\"link\":\"/核心功能模块/工具生态系统\"},{\"text\":\"知识库系统\",\"link\":\"/核心功能模块/知识库系统\"}]},{\"text\":\"API 参考\",\"collapsed\":true,\"items\":[{\"text\":\"API总览\",\"link\":\"/API参考/API参考\"},{\"text\":\"Agent API\",\"link\":\"/API参考/Agent API\"},{\"text\":\"对话 API\",\"link\":\"/API参考/对话API\"},{\"text\":\"工具 API\",\"link\":\"/API参考/工具API\"},{\"text\":\"用户 API\",\"link\":\"/API参考/用户API\"},{\"text\":\"知识库 API\",\"link\":\"/API参考/知识库API\"},{\"text\":\"MCP服务 API\",\"link\":\"/API参考/MCP服务API\"}]},{\"text\":\"数据库设计\",\"collapsed\":true,\"items\":[{\"text\":\"设计总览\",\"link\":\"/数据库设计/数据库设计\"},{\"text\":\"关系型数据模型\",\"items\":[{\"text\":\"模型总览\",\"link\":\"/数据库设计/关系型数据模型/关系型数据模型\"},{\"text\":\"用户数据模型\",\"link\":\"/数据库设计/关系型数据模型/用户数据模型\"},{\"text\":\"智能体数据模型\",\"link\":\"/数据库设计/关系型数据模型/智能体数据模型\"},{\"text\":\"对话会话模型\",\"link\":\"/数据库设计/关系型数据模型/对话会话数据模型\"},{\"text\":\"消息记录模型\",\"link\":\"/数据库设计/关系型数据模型/消息记录数据模型\"},{\"text\":\"知识库模型\",\"link\":\"/数据库设计/关系型数据模型/知识库数据模型\"},{\"text\":\"MCP服务配置\",\"link\":\"/数据库设计/关系型数据模型/MCP服务配置模型\"}]},{\"text\":\"向量存储架构\",\"items\":[{\"text\":\"架构总览\",\"link\":\"/数据库设计/向量存储架构/向量存储架构\"},{\"text\":\"文档解析与向量化\",\"link\":\"/数据库设计/向量存储架构/文档解析与向量化/文档解析与向量化\"},{\"text\":\"向量数据库集成\",\"link\":\"/数据库设计/向量存储架构/向量数据库集成/向量数据库集成\"}]}]},{\"text\":\"项目目录结构\",\"collapsed\":true,\"items\":[{\"text\":\"结构总览\",\"link\":\"/项目目录结构/项目目录结构\"},{\"text\":\"前端目录\",\"link\":\"/项目目录结构/前端目录结构/前端目录结构\"},{\"text\":\"后端目录\",\"link\":\"/项目目录结构/后端目录结构/后端目录结构\"}]},{\"text\":\"开发指南\",\"collapsed\":true,\"items\":[{\"text\":\"开发指南\",\"link\":\"/开发指南/开发指南\"},{\"text\":\"环境搭建\",\"link\":\"/开发指南/环境搭建\"},{\"text\":\"编码规范\",\"link\":\"/开发指南/编码规范\"},{\"text\":\"调试技巧\",\"link\":\"/开发指南/调试技巧\"},{\"text\":\"测试策略\",\"link\":\"/开发指南/测试策略\"}]},{\"text\":\"部署指南\",\"collapsed\":true,\"items\":[{\"text\":\"部署指南\",\"link\":\"/部署指南/部署指南\"},{\"text\":\"开发环境部署\",\"link\":\"/部署指南/开发环境部署\"},{\"text\":\"生产环境部署\",\"link\":\"/部署指南/生产环境部署/生产环境部署\"},{\"text\":\"运维管理\",\"link\":\"/部署指南/运维管理/运维管理\"}]},{\"text\":\"安全考虑\",\"collapsed\":true,\"items\":[{\"text\":\"安全概述\",\"link\":\"/安全考虑/安全考虑\"},{\"text\":\"API安全\",\"items\":[{\"text\":\"API安全概览\",\"link\":\"/安全考虑/API安全/API安全\"},{\"text\":\"输入验证与防注入\",\"link\":\"/安全考虑/API安全/输入验证与防注入\"},{\"text\":\"沙箱执行安全\",\"link\":\"/安全考虑/API安全/沙箱执行安全\"}]},{\"text\":\"数据安全\",\"items\":[{\"text\":\"数据安全概览\",\"link\":\"/安全考虑/数据安全/数据安全\"},{\"text\":\"传输安全\",\"link\":\"/安全考虑/数据安全/传输安全\"},{\"text\":\"密码哈希与加密\",\"link\":\"/安全考虑/数据安全/密码哈希与数据加密\"}]},{\"text\":\"认证与授权\",\"items\":[{\"text\":\"认证与授权概览\",\"link\":\"/安全考虑/认证与授权/认证与授权\"},{\"text\":\"令牌生成与验证\",\"link\":\"/安全考虑/认证与授权/令牌生成与验证/令牌生成与验证\"},{\"text\":\"安全策略\",\"link\":\"/安全考虑/认证与授权/安全策略/安全策略\"}]}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Shy2593666979/AgentChat\"}],\"footer\":{\"message\":\"基于 MIT 许可发布\",\"copyright\":\"Copyright © 2024 AgentChat\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"zh\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}}},\"editLink\":{\"pattern\":\"https://github.com/Shy2593666979/AgentChat/edit/main/docs/:path\",\"text\":\"在 GitHub 上编辑此页面\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>